<?php
 namespace phpCtrl; if (str_replace("\x5c", "\x2f", $_SERVER["\x44\117\103\125\115\x45\116\124\x5f\122\117\117\x54"]) == SERVER_ROOT) { define("\x41\x42\123\137\x50\x41\x54\x48", ''); } else { define("\x41\x42\123\137\120\x41\x54\110", SERVER_ROOT); } if (!session_id()) { session_start(); } class C_DataGrid { public $jq_colModel; public $before_script_end; private $sql; private $sql_table; private $sql_key; private $sql_fkey; private $col_dbnames; private $col_hiddens; private $col_titles; private $col_formats; private $col_readonly; private $col_required; private $col_links; private $col_dynalinks; private $col_edittypes; private $col_datatypes; private $col_imgs; private $col_custom; private $col_custom_css; private $col_wysiwyg; private $col_default; private $col_frozen; private $col_widths; private $col_aligns; private $col_edit_dimension; private $col_fileupload; private $col_virtual; private $col_customrule; private $col_autocomplete; private $sql_filter; private $jq_summary_col_name; private $jq_summary_type; private $jq_showSummaryOnHide; private $jq_is_group_summary; private $jq_gridName; private $jq_url; private $jq_datatype; private $jq_mtype; private $jq_colNames; private $jq_pagerName; private $jq_rowNum; private $jq_rowList; private $jq_sortname; private $jq_sortorder; private $jq_viewrecords; private $jq_multiselect; private $jq_autowidth; private $jq_width; private $jq_height; private $jq_grouping; private $jq_group_name; private $jq_group_summary_show; private $jq_direction; private $jq_groupcollapse; private $jq_shrinkToFit; private $jq_caption; private $jq_cellEdit; private $jq_altRows; private $jq_scrollOffset; private $jq_editurl; private $jq_rownumbers; private $jq_forceFit; private $jq_loadtext; private $jq_scroll; private $jq_hiddengrid; private $jq_gridview; private $jqu_resize; private $_num_rows; private $_num_fields; private $_ver_num; private $form_width; private $form_height; private $edit_mode; private $edit_options; private $has_tbarsearch; private $advanced_search; private $sys_msg; private $alt_colors; private $theme_name; private $locale; private $auto_resize; private $kb_nav; public $export_type; public $export_url; public $debug; public $db; public $db_connection = array(); public $obj_subgrid; public $obj_md = array(); public $data_local = array(); private $jq_rowConditions; private $jq_cellConditions; private $script_includeonce; private $script_body; private $script_editEvtHandler; private $script_ude_handler; private $cust_col_properties; private $cust_grid_properties; public $cust_prop_jsonstr; private $img_baseUrl; private $grid_methods; private $edit_file; static $has_autocomplete; static $has_wysiwyg; static $has_fileupload; static $load_ajaxComplete; public function __construct($sql, $sql_key = array(), $sql_table = '', $db_connection = array()) { if (!is_array($sql_key)) { $sql_key = array($sql_key); } $sql_key = array_slice($sql_key, 0, 1); $this->jq_gridName = $sql_table == '' ? "\154\151\163\x74\x31" : $sql_table; if (!is_array($sql)) { if (empty($db_connection)) { $this->db = new C_DataBase(PHPGRID_DB_HOSTNAME, PHPGRID_DB_USERNAME, PHPGRID_DB_PASSWORD, PHPGRID_DB_NAME, PHPGRID_DB_TYPE, PHPGRID_DB_CHARSET); } else { $this->db = new C_DataBase($db_connection["\150\x6f\x73\164\x6e\141\x6d\x65"], $db_connection["\165\163\145\162\156\141\x6d\145"], $db_connection["\160\x61\x73\163\167\157\x72\x64"], $db_connection["\x64\x62\x6e\141\x6d\145"], $db_connection["\144\142\x74\x79\160\145"], $db_connection["\144\142\143\x68\141\x72\x73\x65\164"]); $this->db_connection = $db_connection; } $this->jq_datatype = "\x6a\163\157\156"; $this->jq_url = "\42" . ABS_PATH . "\x2f\x64\141\164\x61\56\160\150\x70\77\x64\164\x3d" . $this->jq_datatype . "\46\147\156\x3d" . $this->jq_gridName . "\x22"; $this->jq_mtype = "\x47\105\124"; } else { $this->db = new C_DataArray($sql); $this->jq_datatype = "\x6c\157\143\x61\x6c"; $this->data_local = $sql; } $this->sql = $sql; $this->sql_key = $sql_key; $this->sql_fkey = null; $this->sql_table = $sql_table; $this->col_hiddens = array(); $this->col_titles = array(); $this->col_readonly = array(); $this->col_required = array(); $this->col_links = array(); $this->col_dynalinks = array(); $this->col_dbnames = array(); $this->col_edittypes = array(); $this->col_formats = array(); $this->col_widths = array(); $this->col_aligns = array(); $this->col_wysiwyg = array(); $this->col_default = array(); $this->col_frozen = array(); $this->col_edit_dimension = array(); $this->col_fileupload = array(); $this->col_virtual = array(); $this->col_customrule = array(); $this->col_autocomplete = array(); $this->jq_summary_col_name = array(); $this->col_imgs = array(); $this->jq_colNames = array(); $this->jq_colModel = array(); $this->jq_pagerName = "\x22\x23" . $this->jq_gridName . "\x5f\160\x61\x67\145\162\x31\x22"; $this->jq_rowNum = 20; $this->jq_rowList = array(10, 20, 30, 50, 100); $this->jq_sortname = 1; $this->jq_sortorder = "\x61\163\143"; $this->jq_viewrecords = true; $this->jq_multiselect = false; $this->jq_autowidth = true; $this->jq_width = 1000; $this->jq_height = "\61\60\x30\x25"; $this->jq_caption = $sql_table . "\x26\156\142\163\x70\73"; $this->jq_altRows = true; $this->jq_scrollOffset = 22; $this->jq_cellEdit = false; $this->jq_editurl = ''; $this->jq_rownumbers = false; $this->jq_shrinkToFit = true; $this->jq_scroll = false; $this->jq_hiddengrid = false; $this->jq_loadtext = "\114\157\141\144\x69\156\x67\x20\x70\150\x70\x47\x72\x69\144\40\x4c\x69\x74\145\x2e\56\56"; $this->jq_gridview = true; $this->jq_grouping = false; $this->jq_group_summary_show = false; $this->jq_direction = "\154\164\x72"; $this->jq_groupcollapse = "\x66\x61\x6c\x73\x65"; $this->jq_summary_type = ''; $this->jq_showSummaryOnHide = false; $this->jq_is_group_summary = false; $this->jqu_resize = array("\151\x73\x5f\162\145\163\151\x7a\141\x62\154\x65" => false, "\155\x69\x6e\x5f\167\151\144\x74\150" => 300, "\x6d\151\156\x5f\150\145\151\x67\x68\x74" => 100); $this->_num_rows = 0; $this->_num_fields = 0; $this->_ver_num = "\x70\x68\x70\x47\x72\x69\x64\50\x76\x36\x2e\61\51\40\x7b\x6a\x71\107\162\x69\x64\72\x76\64\x2e\x35\56\x32\x2c\40\x6a\x51\x75\145\x72\171\x3a\166\61\x2e\71\56\60\54\x20\152\121\x75\x65\x72\171\40\x55\x49\x3a\61\56\x31\x30\56\x30\175"; $this->sys_msg = null; $this->form_width = 450; $this->form_height = "\61\x30\x30\x25"; $this->alt_colors = array("\150\157\x76\x65\x72" => "\x23\106\62\x46\x43\71\x43", "\x68\151\147\150\154\151\147\x68\164" => "\x79\x65\154\x6c\157\x77", "\x61\x6c\x74\x72\x6f\167" => "\x23\x46\x35\106\x41\x46\x46"); $this->theme_name = defined("\124\x48\x45\x4d\x45") ? THEME : "\x73\x74\x61\162\x74"; $this->locale = "\145\156"; $this->auto_resize = false; $this->kb_nav = false; $this->export_type = null; $this->export_url = ABS_PATH . "\57\145\x78\160\157\x72\x74\56\160\150\x70\77\x64\x74\75" . $this->jq_datatype . "\x26\147\156\x3d" . $this->jq_gridName; $this->edit_mode = "\x4e\x4f\x4e\105"; $this->edit_options = null; $this->has_tbarsearch = false; $this->advanced_search = false; $this->debug = C_Utility::is_debug(); $this->cust_prop_jsonstr = ''; $this->obj_subgrid = null; $this->obj_md = null; $this->jq_rowConditions = array(); $this->jq_cellConditions = array(); $this->script_includeonce = ''; $this->script_body = ''; $this->script_editEvtHandler = ''; $this->script_ude_handler = ''; $this->cust_col_properties = array(); $this->cust_grid_properties = array(); $this->grid_methods = array(); $this->edit_file = "\145\144\x69\x74\56\x70\150\x70"; $this->before_script_end = ''; } public function prepare_grid() { $this_db = $this->db; $this->_num_rows = $this_db->num_rows($this_db->db_query($this->sql)); $results = $this_db->select_limit($this->sql, 1, 1); $this->_num_fields = $this_db->num_fields($results); $this->set_colNames($results); $this->set_colModel($results); $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\137\x73\161\x6c"] = $this->sql; $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\x5f\163\161\154\137\153\x65\171"] = serialize($this->sql_key); $_SESSION[GRID_SESSION_KEY . "\x5f" . $this->jq_gridName . "\x5f\x73\x71\154\137\x66\x6b\145\171"] = $this->sql_fkey; $_SESSION[GRID_SESSION_KEY . "\x5f" . $this->jq_gridName . "\x5f\163\x71\x6c\x5f\x74\x61\142\x6c\x65"] = $this->sql_table; $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\x5f\x73\161\x6c\x5f\x66\x69\154\x74\x65\162"] = $this->sql_filter; $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\137\144\x62\137\143\157\156\156\x65\143\164\151\x6f\x6e"] = serialize($this->db_connection); $_SESSION[GRID_SESSION_KEY . "\x5f" . $this->jq_gridName . "\x5f\150\x61\163\x5f\x6d\165\x6c\x74\x69\x73\145\154\x65\x63\x74"] = $this->jq_multiselect; $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\x5f\145\x78\x70\x6f\162\x74\x5f\164\x79\160\145"] = $this->export_type; $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\x5f\143\x6f\x6c\x5f\x74\151\164\154\x65\163"] = serialize($this->col_titles); $_SESSION[GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\137\x63\157\154\137\150\x69\x64\x64\145\156\x73"] = serialize($this->col_hiddens); } public function set_colNames($results) { $this_db = $this->db; $col_names = array(); for ($i = 0; $i < $this->_num_fields; $i++) { $col_name = $this_db->field_name($results, $i); if (isset($this->col_titles[$col_name])) { $col_names[] = $this->col_titles[$col_name]; } else { $col_names[] = $col_name; } } if (!empty($this->col_virtual)) { foreach ($this->col_virtual as $key => $value) { $col_names[] = $this->col_virtual[$key]["\164\x69\164\x6c\x65"]; } } $this->jq_colNames = $col_names; return $col_names; } public function get_colNames() { return $this->jq_colNames; } public function set_colModel($results) { $this_db = $this->db; $colModel = array(); for ($i = 0; $i < $this->_num_fields; $i++) { $col_name = $this_db->field_name($results, $i); $col_type = $this_db->field_metatype($results, $i); $cols = array(); $cols["\x6e\x61\x6d\x65"] = $col_name; $cols["\x69\x6e\144\x65\x78"] = $col_name; $cols["\150\151\x64\144\145\156"] = isset($this->col_hiddens[$col_name]); if (isset($this->col_frozen[$col_name])) { $cols["\146\162\157\x7a\x65\x6e"] = $this->col_frozen[$col_name]; } if (isset($this->col_widths[$col_name])) { $cols["\x77\151\x64\164\x68"] = $this->col_widths[$col_name]["\167\151\x64\x74\150"]; } if (isset($this->col_aligns[$col_name])) { $cols["\x61\154\x69\x67\x6e"] = $this->col_aligns[$col_name]["\x61\154\151\x67\x6e"]; } if (isset($this->jq_summary_col_name[$col_name])) { $cols["\163\x75\155\155\141\162\x79\124\171\160\x65"] = $this->jq_summary_col_name[$col_name]["\163\x75\x6d\155\x61\x72\171\x54\171\160\x65"]; } if (isset($this->col_edittypes[$col_name])) { $cols["\x65\x64\x69\164\x74\171\160\x65"] = $this->col_edittypes[$col_name]["\164\171\160\145"]; } else { $cols["\145\144\151\164\164\x79\160\x65"] = $col_type == "\x58" ? "\164\145\x78\164\x61\162\x65\141" : "\164\x65\x78\164"; } switch ($this->edit_mode) { case "\x43\105\114\x4c": case "\111\x4e\114\111\x4e\105": $cols["\x65\144\151\164\141\142\x6c\x65"] = !in_array($col_name, $this->col_readonly); break; case "\x46\x4f\122\x4d": $cols["\145\144\x69\x74\141\x62\x6c\x65"] = true; break; default: $cols["\x65\144\151\x74\x61\142\x6c\145"] = false; } $editoptions = array(); if (($col_type == "\104" || $col_type == "\124") && !in_array($col_name, $this->col_readonly)) { $editoptions["\144\141\x74\141\111\x6e\151\x74"] = "\43\x23\x23\x66\x75\156\x63\x74\151\x6f\156\x28\x65\154\x29\x7b\44\50\x65\154\51\56\x64\x61\x74\145\x70\x69\143\153\145\162\50\x7b\x63\150\141\156\147\x65\x4d\x6f\156\164\150\72\40\x74\x72\165\145\x2c\x20\x63\150\141\156\x67\x65\131\x65\x61\162\72\x20\x74\162\165\x65\x2c\x64\x61\x74\x65\106\157\x72\155\141\x74\x3a\x27" . (isset($this->col_formats[$col_name]["\x64\141\x74\145"]) ? $this->col_formats[$col_name]["\144\141\x74\x65"]["\144\141\164\145\x50\x69\x63\153\145\162\x46\157\x72\x6d\x61\x74"] : "\171\x79\x2d\x6d\x6d\x2d\x64\x64") . "\x27\175\51\73\175\43\43\43"; } elseif (isset($this->col_edittypes[$col_name])) { if ($this->col_edittypes[$col_name]["\x74\x79\x70\145"] == "\146\151\x6c\145") { $editoptions["\145\x6e\x63\x74\171\x70\x65"] = "\155\x75\x6c\164\151\160\x61\162\164\x2f\x66\x6f\x72\x6d\x2d\x64\141\164\x61"; } else { if ($this->col_edittypes[$col_name]["\166\x61\154\x75\145"] != null) { $editoptions["\x76\141\154\x75\145"] = $this->col_edittypes[$col_name]["\x76\141\x6c\x75\x65"]; } if (isset($this->col_edittypes[$col_name]) && $this->col_edittypes[$col_name]["\x74\171\160\x65"] == "\163\x65\x6c\x65\x63\164") { if ($this->col_edittypes[$col_name]["\x6d\165\x6c\164\151\x70\x6c\145"] != null) { $editoptions["\x6d\x75\154\x74\151\160\x6c\145"] = $this->col_edittypes[$col_name]["\155\165\x6c\x74\151\x70\154\145"]; } if ($this->col_edittypes[$col_name]["\x64\141\x74\x61\x55\x72\x6c"] != null) { $editoptions["\144\141\x74\141\x55\162\154"] = $this->col_edittypes[$col_name]["\144\x61\164\141\x55\x72\154"]; } } } } elseif ($col_type == "\130") { if (isset($this->col_edit_dimension[$col_name]["\167\151\x64\164\150"])) { $editoptions["\143\157\154\x73"] = $this->col_edit_dimension[$col_name]["\x77\x69\x64\x74\x68"]; } else { $editoptions["\x63\157\154\163"] = 42; } if (isset($this->col_edit_dimension[$col_name]["\x68\x65\151\147\x68\164"])) { $editoptions["\162\x6f\x77\x73"] = $this->col_edit_dimension[$col_name]["\150\145\x69\147\150\x74"]; } else { $editoptions["\x72\157\167\x73"] = 6; } } if (!isset($this->col_edittypes[$col_name]["\164\x79\160\x65"])) { if (isset($this->col_edit_dimension[$col_name]["\x77\151\x64\x74\x68"])) { $editoptions["\163\x69\172\145"] = $this->col_edit_dimension[$col_name]["\167\151\144\164\150"]; } else { $editoptions["\x73\x69\172\x65"] = "\63\60"; } } if (isset($this->col_default[$col_name])) { $editoptions["\144\x65\146\x61\x75\154\164\126\x61\x6c\165\145"] = $this->col_default[$col_name]; } $editrules = array(); $editrules["\x65\144\151\164\150\151\144\x64\145\156"] = isset($this->col_hiddens[$col_name]["\x65\x64\151\164\x68\x69\144\144\145\x6e"]) && $this->col_hiddens[$col_name]["\x65\x64\x69\x74\150\151\x64\144\x65\x6e"] == true ? true : false; $editrules["\162\x65\x71\165\x69\x72\x65\x64"] = in_array($col_name, $this->col_required); if (isset($this->col_datatypes[$col_name])) { $editrules[$this->col_datatypes[$col_name]] = true; } else { switch ($col_type) { case "\116": case "\111": case "\x52": $editrules["\x6e\165\155\142\x65\x72"] = true; break; case "\x44": $editrules["\x64\141\x74\145"] = true; break; } } if (isset($this->col_customrule[$col_name])) { $editrules["\143\165\163\164\x6f\x6d"] = true; $editrules["\143\x75\x73\164\x6f\x6d\x5f\146\165\156\x63"] = "\x23\43\43" . $this->col_customrule[$col_name]["\143\165\x73\164\157\x6d\137\146\165\x6e\143"] . "\43\43\x23"; } if (isset($this->col_formats[$col_name])) { if (isset($this->col_formats[$col_name]["\154\151\x6e\153"])) { $cols["\x66\x6f\162\155\x61\x74\164\145\162"] = "\154\151\156\x6b"; $formatoptions = array(); $formatoptions["\x74\x61\x72\x67\x65\x74"] = $this->col_formats[$col_name]["\x6c\x69\156\x6b"]["\164\x61\x72\x67\145\x74"]; $cols["\146\157\x72\155\x61\x74\157\x70\x74\x69\157\x6e\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\163\150\x6f\167\x6c\151\156\153"])) { $cols["\x66\x6f\x72\x6d\141\x74\164\x65\162"] = "\x73\x68\x6f\x77\x6c\x69\156\x6b"; $formatoptions = array(); $formatoptions["\x62\x61\x73\145\x4c\x69\156\153\x55\162\154"] = $this->col_formats[$col_name]["\x73\x68\157\167\x6c\x69\x6e\153"]["\142\141\163\145\114\x69\156\153\x55\162\154"]; $formatoptions["\163\x68\x6f\167\x41\143\164\x69\157\x6e"] = $this->col_formats[$col_name]["\163\x68\x6f\167\154\151\156\153"]["\163\x68\x6f\x77\101\x63\164\151\157\x6e"]; $formatoptions["\x69\144\x4e\x61\155\x65"] = isset($this->col_formats[$col_name]["\x73\150\157\167\x6c\151\x6e\153"]["\151\x64\116\141\155\145"]) ? $this->col_formats[$col_name]["\x73\x68\x6f\167\x6c\151\156\153"]["\151\144\x4e\141\x6d\x65"] : "\151\144"; $formatoptions["\141\144\x64\120\141\162\x61\x6d"] = isset($this->col_formats[$col_name]["\163\150\x6f\x77\x6c\x69\x6e\x6b"]["\141\144\144\x50\x61\162\x61\155"]) ? $this->col_formats[$col_name]["\163\x68\157\x77\154\x69\156\153"]["\x61\x64\x64\x50\x61\162\x61\155"] : ''; $formatoptions["\164\141\x72\x67\x65\x74"] = isset($this->col_formats[$col_name]["\x73\150\157\167\154\x69\x6e\153"]["\x74\x61\162\147\x65\x74"]) ? $this->col_formats[$col_name]["\163\150\157\167\154\151\x6e\153"]["\164\141\162\147\145\164"] : "\137\x6e\x65\167"; $cols["\x66\x6f\162\155\141\164\x6f\160\164\x69\157\156\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x69\x6d\x61\x67\x65"])) { $cols["\146\157\x72\155\141\x74\x74\x65\x72"] = "\x23\x23\x23\151\155\141\x67\145\x46\x6f\x72\155\141\164\164\x65\x72\43\43\43"; $cols["\165\156\146\x6f\162\x6d\x61\x74"] = "\43\x23\43\151\x6d\x61\147\x65\x55\156\x66\x6f\x72\x6d\141\164\164\x65\162\x23\43\x23"; } elseif (isset($this->col_formats[$col_name]["\145\155\141\151\x6c"])) { $cols["\x66\157\x72\x6d\x61\x74\x74\145\x72"] = "\145\x6d\x61\x69\154"; } elseif (isset($this->col_formats[$col_name]["\x69\156\x74\145\x67\145\162"])) { $cols["\146\157\162\155\141\164\x74\x65\x72"] = "\151\x6e\164\x65\147\145\162"; $formatoptions = array(); $formatoptions["\164\x68\x6f\165\x73\141\x6e\x64\163\x53\145\x70\141\162\141\x74\x6f\162"] = $this->col_formats[$col_name]["\151\x6e\164\x65\x67\x65\162"]["\x74\150\x6f\x75\163\141\156\144\x73\123\x65\160\141\162\x61\164\157\x72"]; $formatoptions["\x64\x65\146\141\165\x6c\164\x56\x61\x6c\165\x65"] = $this->col_formats[$col_name]["\151\156\x74\145\x67\x65\162"]["\144\145\x66\x61\165\x6c\x74\126\x61\154\x75\145"]; $cols["\146\x6f\x72\155\x61\164\157\160\164\151\157\x6e\163"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x6e\x75\x6d\x62\x65\x72"])) { $cols["\x66\157\162\x6d\x61\x74\x74\145\162"] = "\156\165\x6d\x62\145\162"; $formatoptions = array(); $formatoptions["\x74\x68\x6f\x75\163\x61\x6e\144\163\123\145\160\x61\x72\141\164\157\162"] = $this->col_formats[$col_name]["\156\x75\155\142\145\162"]["\164\150\x6f\x75\163\141\x6e\144\163\x53\x65\160\x61\162\141\164\x6f\162"]; $formatoptions["\x64\145\x63\x69\155\141\x6c\x53\x65\160\x61\162\141\164\157\x72"] = $this->col_formats[$col_name]["\x6e\x75\155\142\145\162"]["\144\x65\x63\x69\155\x61\154\123\145\160\x61\162\141\164\x6f\162"]; $formatoptions["\x64\x65\x63\x69\x6d\x61\x6c\x50\154\141\x63\145\163"] = $this->col_formats[$col_name]["\156\x75\x6d\x62\145\x72"]["\144\145\143\x69\155\141\154\x50\x6c\141\143\145\163"]; $formatoptions["\x64\145\146\141\x75\154\164\126\141\x6c\x75\x65"] = $this->col_formats[$col_name]["\x6e\x75\x6d\x62\x65\x72"]["\144\145\x66\x61\165\154\x74\126\x61\154\x75\145"]; $cols["\146\157\x72\155\141\x74\157\x70\164\151\157\x6e\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x64\x61\x74\x65"])) { $cols["\x66\157\162\x6d\141\x74\x74\145\162"] = "\x64\141\164\x65"; $formatoptions = array(); $formatoptions["\x73\162\143\146\x6f\162\x6d\141\x74"] = $this->col_formats[$col_name]["\x64\x61\164\x65"]["\x73\x72\143\x66\x6f\x72\155\x61\x74"]; $formatoptions["\156\145\167\x66\157\x72\x6d\141\x74"] = $this->col_formats[$col_name]["\x64\x61\x74\145"]["\x6e\x65\x77\x66\157\x72\155\x61\164"]; $cols["\x66\157\162\155\141\164\x6f\160\x74\x69\157\x6e\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\143\150\145\x63\x6b\142\157\170"])) { $cols["\x66\157\162\155\x61\164\164\145\162"] = "\143\150\x65\x63\x6b\x62\x6f\170"; $formatoptions = array(); $formatoptions["\144\151\x73\141\142\x6c\x65\144"] = true; $cols["\x66\x6f\x72\155\x61\164\157\x70\164\151\x6f\156\163"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x63\165\x72\162\x65\156\x63\171"])) { $cols["\x66\x6f\x72\x6d\141\x74\164\x65\162"] = "\143\x75\x72\162\145\156\x63\x79"; $formatoptions = array(); $formatoptions["\x70\162\x65\146\x69\x78"] = $this->col_formats[$col_name]["\143\165\x72\162\x65\156\x63\171"]["\160\162\x65\x66\151\170"]; $formatoptions["\x73\x75\x66\x66\x69\x78"] = $this->col_formats[$col_name]["\143\x75\162\x72\x65\156\x63\x79"]["\163\165\146\146\151\170"]; $formatoptions["\164\x68\157\165\163\x61\156\144\163\123\145\160\x61\162\141\164\157\x72"] = $this->col_formats[$col_name]["\x63\x75\162\x72\x65\156\x63\171"]["\164\150\157\x75\x73\x61\x6e\144\163\x53\145\x70\141\x72\141\164\157\162"]; $formatoptions["\144\x65\x63\x69\x6d\x61\154\x53\145\160\x61\x72\x61\x74\157\x72"] = $this->col_formats[$col_name]["\143\x75\162\162\x65\x6e\143\171"]["\144\145\143\151\x6d\x61\x6c\x53\x65\160\141\x72\141\164\x6f\162"]; $formatoptions["\144\x65\x63\151\155\141\154\x50\x6c\141\143\x65\163"] = $this->col_formats[$col_name]["\x63\165\x72\162\x65\156\x63\171"]["\144\145\x63\x69\155\x61\x6c\x50\154\x61\x63\145\x73"]; $formatoptions["\x64\145\146\141\165\154\164\x56\141\154\x75\145"] = $this->col_formats[$col_name]["\143\165\x72\x72\145\156\143\x79"]["\144\x65\x66\x61\x75\154\x74\126\x61\x6c\165\x65"]; $cols["\146\x6f\x72\155\141\x74\157\160\164\x69\157\156\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x62\157\157\154\145\141\156"])) { $formatoptions = array(); $cols["\146\x6f\x72\x6d\x61\164\164\145\162"] = "\x23\x23\x23\x62\x6f\x6f\154\x65\141\156\106\157\x72\155\141\x74\164\145\162\x23\x23\43"; $cols["\x75\x6e\x66\157\x72\x6d\x61\x74"] = "\x23\x23\x23\x62\x6f\157\154\145\141\x6e\x55\156\x66\157\162\x6d\141\164\164\x65\162\43\x23\x23"; $formatoptions["\x59\x65\x73"] = $this->col_formats[$col_name]["\x62\157\x6f\154\145\x61\x6e"]["\131\x65\x73"]; $formatoptions["\x4e\157"] = $this->col_formats[$col_name]["\x62\x6f\157\x6c\145\141\x6e"]["\x4e\157"]; $cols["\146\x6f\x72\x6d\141\x74\157\160\164\x69\x6f\156\x73"] = $formatoptions; } elseif (isset($this->col_formats[$col_name]["\x63\x75\x73\x74\157\x6d"])) { $cols["\146\157\162\155\141\164\164\x65\x72"] = "\x23\x23\43" . $col_name . "\137\x63\x75\163\x74\157\155\x46\157\x72\155\x61\x74\164\145\162\x23\x23\43"; $cols["\165\x6e\x66\x6f\162\x6d\x61\164"] = "\43\x23\x23" . $col_name . "\137\143\165\163\x74\157\x6d\x55\x6e\146\157\x72\155\141\x74\x74\x65\162\43\x23\x23"; } } elseif (isset($this->col_edittypes[$col_name]) && $this->col_edittypes[$col_name]["\x74\171\160\145"] == "\x73\x65\154\x65\x63\x74") { $cols["\146\x6f\162\155\x61\164\x74\145\x72"] = "\x73\145\x6c\145\143\164"; $cols["\x73\164\171\x70\x65"] = "\x73\x65\154\145\143\x74"; $cols["\163\x65\141\x72\143\150\157\x70\164\151\157\156\163"] = array("\x73\x6f\x70\164" => array("\145\x71"), "\x76\141\x6c\x75\145" => "\72\x41\x6c\154\x3b" . $this->col_edittypes[$col_name]["\x76\141\154\165\x65"]); } $cols["\x65\144\x69\164\x6f\x70\164\x69\x6f\156\x73"] = $editoptions; $cols["\145\144\151\x74\x72\x75\x6c\145\x73"] = $editrules; if (isset($this->cust_col_properties[$col_name])) { $cols = array_replace_recursive($cols, $this->cust_col_properties[$col_name]); } $colModel[] = $cols; } if (!empty($this->col_virtual)) { foreach ($this->col_virtual as $key => $value) { $col_virtual = array(); $col_property = $this->col_virtual[$key]["\x70\162\x6f\x70\x65\x72\x74\x79"]; foreach ($col_property as $prop_key => $prop_value) { if (is_string($prop_value) || is_array($prop_value)) { $prop_value = $this->parse_to_script($prop_value); } $col_virtual[$prop_key] = $prop_value; } $colModel[] = $col_virtual; } } $this->jq_colModel = $colModel; } public function get_colModel() { return $this->jq_colModel; } private function display_script_data() { echo "\x3c\163\x63\162\x69\x70\164\x3e\166\x61\162\x20\137\147\x72\151\144\137" . $this->sql_table . "\x3d" . json_encode($this->data_local) . "\74\x2f\x73\x63\x72\x69\x70\x74\76" . "\xa"; } private function display_style() { echo "\x3c\163\164\171\154\x65\x20\164\x79\160\x65\75\42\164\x65\170\x74\x2f\143\163\x73\x22\x3e" . "\12"; if (!empty($this->alt_colors)) { if ($this->alt_colors["\141\x6c\x74\x72\x6f\167"] != null) { echo "\43" . $this->jq_gridName . "\40\x2e\165\151\55\160\162\151\x6f\162\151\164\x79\55\163\x65\x63\157\156\x64\141\162\171\x7b\142\x61\143\153\x67\x72\157\x75\156\144\55\x69\x6d\141\147\x65\x3a\x20\156\157\156\x65\73\142\x61\143\x6b\x67\162\157\165\x6e\x64\x3a" . $this->alt_colors["\141\x6c\164\162\x6f\167"] . "\x3b\175" . "\12"; } echo "\43" . $this->jq_gridName . "\40\x2e\165\151\55\x73\x74\141\164\145\55\x68\x6f\166\145\162\x7b\142\141\143\x6b\147\x72\x6f\165\x6e\x64\x2d\151\155\x61\147\145\72\40\x6e\x6f\x6e\145\73\x62\141\x63\153\147\x72\x6f\165\156\x64\x3a" . $this->alt_colors["\150\x6f\166\x65\x72"] . "\x3b\143\x6f\x6c\x6f\162\x3a\142\154\141\143\153\175" . "\xa"; if ($this->alt_colors["\x68\x69\x67\150\154\151\x67\x68\x74"] != null) { echo "\43" . $this->jq_gridName . "\x20\x2e\165\151\55\x73\164\141\164\145\55\x68\x69\147\150\x6c\151\x67\150\164\173\142\x61\x63\x6b\147\162\x6f\165\x6e\x64\55\151\155\141\x67\145\72\x20\156\x6f\x6e\x65\73\x62\x61\x63\x6b\x67\162\x6f\x75\x6e\x64\72" . $this->alt_colors["\150\x69\x67\150\x6c\x69\x67\150\164"] . "\73\x7d" . "\12"; } echo "\x74\x61\142\x6c\145\43" . $this->jq_gridName . "\x20\x74\x72\173\40\x6f\160\x61\143\151\x74\171\72\x20\61\175" . "\xa"; } if (!empty($this->col_autocomplete)) { echo "\x23\x73\145\154\x65\x63\164\62\55\144\x72\157\160\x7b\146\x6f\156\x74\55\x66\x61\x6d\151\x6c\171\x3a\141\x72\x69\x61\154\73\146\x6f\x6e\164\x2d\163\151\x7a\x65\72\x31\62\160\170\73\175"; echo "\x2e\163\145\154\x65\x63\x74\x32\x2d\x6e\x6f\55\x72\x65\x73\x75\154\164\163\173\x63\x6f\x6c\x6f\162\x3a\162\x67\x62\x28\61\x36\63\54\x20\x31\x36\63\54\x20\x31\66\x33\51\73\x66\157\x6e\x74\55\163\151\172\145\x3a\61\60\x70\170\175"; } echo "\74\57\x73\x74\171\x6c\x65\x3e" . "\12"; if (!empty($this->col_custom_css)) { echo "\x3c\163\x74\171\154\x65\x20\x74\x79\x70\145\x3d\x22\x74\145\170\x74\57\143\163\x73\x22\x3e" . "\12"; echo "\56\x5f\x67\162\x69\x64\103\145\x6c\154\x44\151\166\xa\40\x20\x20\x20\40\x20\40\x20\x20\40\40\x20\x20\40\x20\40\x20\x20\x20\x20\173\12\x20\40\40\x20\40\x20\x20\40\40\40\40\x20\x20\x20\40\40\x20\40\x20\40\x20\40\40\40\x6c\x65\x66\164\72\40\x30\x70\170\73\40\x74\157\160\72\x35\x70\170\73\x20\150\x65\151\x67\150\164\x3a\x32\x32\x70\x78\73\xa\40\40\x20\x20\40\40\x20\x20\40\40\x20\40\40\40\40\x20\x20\x20\x20\40\x20\x20\40\x20\160\x6f\x73\x69\x74\x69\157\156\x3a\x72\x65\154\x61\164\151\x76\x65\x3b\160\141\144\144\151\x6e\147\72\60\73\x6d\x61\162\x67\151\156\x2d\162\x69\147\150\x74\x3a\55\64\x70\x78\73\142\157\162\x64\x65\162\x3a\x30\x3b\xa\x20\x20\40\x20\x20\40\40\x20\40\40\x20\40\x20\40\40\40\x20\x20\40\x20\175\xa\40\x20\40\40\x20\x20\40\40\x20\40\x20\x20\40\x20\x20\40\56\x5f\x67\x72\x69\144\x43\x65\x6c\x6c\x54\x65\x78\164\x52\x69\x67\150\164\12\x20\x20\40\x20\40\x20\40\40\40\40\40\x20\x20\x20\x20\x20\x7b\12\40\40\40\x20\40\40\x20\x20\x20\40\40\x20\x20\x20\40\x20\40\40\40\x20\160\x6f\x73\x69\164\x69\157\x6e\x3a\162\x65\x6c\141\164\151\166\145\x3b\xa\40\40\40\x20\x20\40\40\40\40\x20\x20\40\x20\40\x20\x20\x20\x20\x20\x20\x6d\x61\x72\x67\x69\156\55\x72\x69\x67\150\x74\72\64\160\170\73\xa\x20\x20\x20\x20\40\x20\40\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\40\40\40\x74\145\170\164\x2d\x61\154\x69\147\156\72\x72\151\x67\150\x74\73\12\40\x20\40\x20\40\40\40\x20\40\40\40\x20\x20\x20\x20\x20\x20\x20\40\40\x66\x6c\157\x61\x74\72\162\151\147\150\164\73\12\x20\40\40\40\40\x20\x20\40\40\x20\x20\x20\x20\x20\40\x20\175\xa\x20\40\40\40\40\40\40\40\x20\x20\x20\x20\40\40\40\40\56\137\x67\x72\x69\x64\x47\x72\x61\x64\x69\145\x6e\164\x7b\xa\40\40\x20\40\40\40\40\40\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\x20\146\151\154\x74\x65\x72\72\40\160\162\157\147\151\x64\x3a\x44\130\111\x6d\141\x67\x65\x54\x72\x61\156\163\x66\x6f\x72\155\x2e\x4d\x69\x63\162\x6f\163\x6f\x66\164\56\x47\x72\x61\x64\x69\145\156\164\50\123\164\141\x72\x74\103\x6f\x6c\x6f\162\123\164\x72\75\42" . $this->col_custom_css . "\x22\x2c\x20\105\x6e\144\x43\157\154\157\162\123\164\x72\x3d\42\167\150\x69\x74\145\x22\x2c\x20\107\162\141\144\x69\x65\156\164\124\x79\x70\x65\x3d\x31\51\73\xa\x20\40\40\40\40\x20\x20\x20\40\x20\40\x20\x20\x20\40\40\55\x6d\x73\x2d\146\151\154\164\x65\162\72\x20\x22\160\x72\x6f\147\151\144\x3a\104\x58\111\155\141\147\145\124\162\141\x6e\x73\146\x6f\162\155\x2e\x4d\x69\x63\162\x6f\163\x6f\146\164\56\x47\162\141\x64\151\x65\156\x74\50\x53\164\x61\162\x74\x43\157\x6c\x6f\162\x53\x74\162\x3d\42" . $this->col_custom_css . "\x22\x2c\x20\x45\x6e\144\103\x6f\154\x6f\x72\123\164\x72\x3d\x22\167\x68\151\164\x65\42\54\40\107\x72\141\x64\151\145\156\164\x54\171\x70\145\75\61\x29\42\x3b\12\x20\40\x20\x20\x20\x20\x20\40\x20\40\x20\x20\40\x20\40\40\160\157\x73\151\164\x69\x6f\x6e\72\40\141\142\x73\x6f\x6c\165\x74\145\x3b\x20\x6c\x65\146\x74\x3a\40\55\x32\x70\x78\x3b\40\164\157\x70\72\55\65\160\x78\x3b\40\x72\151\147\x68\x74\72\x20\62\160\170\x3b\x20\150\145\x69\147\x68\164\x3a\62\x32\160\170\x3b\40\x66\154\x6f\x61\164\72\x6c\145\146\x74\x3b\xa\x20\40\x20\40\40\40\40\x20\40\40\x20\40\40\40\40\40\x62\141\x63\x6b\x67\x72\157\165\156\144\72\40" . $this->col_custom_css . "\x3b\xa\x20\40\x20\40\40\40\40\x20\40\x20\40\40\x20\40\x20\40\x62\x61\x63\153\147\162\157\165\156\144\x3a\x20\x2d\167\145\x62\x6b\151\x74\55\x67\x72\x61\144\151\x65\x6e\164\x28\x6c\x69\156\145\x61\x72\54\x20\x6c\145\146\164\40\x74\157\160\54\40\162\151\147\x68\164\40\x74\157\160\x2c\x20\x66\162\x6f\155\x28" . $this->col_custom_css . "\x29\x2c\40\164\157\50\167\150\x69\164\x65\x29\x29\x3b\xa\40\x20\40\x20\40\x20\40\x20\x20\40\40\x20\40\40\x20\x20\142\x61\143\153\147\162\157\165\x6e\144\x3a\x20\x2d\x6d\x6f\172\55\x6c\x69\x6e\145\141\x72\55\147\x72\x61\x64\151\145\x6e\x74\50\154\x65\146\x74\54\40" . $this->col_custom_css . "\x2c\40\167\x68\151\x74\x65\x29\73\12\40\40\x20\40\40\40\x20\x20\40\40\40\40\175"; echo "\x3c\x2f\x73\164\171\x6c\x65\76" . "\xa"; } } public function display_script_includeonce() { if ($this->sql_fkey == null) { $this->script_includeonce = "\74\144\151\166\x20\x69\x64\75\42\x5f\x70\150\x70\147\x72\151\x64\x5f\163\x63\x72\x69\x70\164\137\x69\x6e\x63\x6c\165\144\x65\x6f\156\143\x65\42\40\163\x74\171\154\145\x3d\x22\x64\151\163\160\154\141\171\72\151\156\x6c\x69\x6e\145\42\x3e" . "\12"; $this->script_includeonce .= "\74\154\151\x6e\153\40\x72\x65\x6c\75\42\163\x74\x79\154\145\x73\x68\x65\145\164\42\x20\164\171\x70\x65\75\x22\x74\x65\x78\x74\57\x63\x73\163\x22\40\155\145\x64\x69\x61\75\42\163\x63\162\145\145\x6e\x22\40\150\162\145\146\75\42" . ABS_PATH . "\57\x63\163\163\57" . $this->theme_name . "\57\x6a\161\165\x65\162\x79\55\x75\x69\56\143\163\x73\x22\x20\x2f\x3e" . "\xa"; $this->script_includeonce .= "\74\154\151\x6e\x6b\40\x72\x65\x6c\x3d\x22\163\164\x79\x6c\x65\163\150\145\x65\x74\42\40\x74\171\x70\145\75\x22\x74\145\x78\164\57\143\163\x73\x22\x20\155\145\144\x69\x61\75\x22\x73\x63\x72\x65\145\156\42\x20\x68\162\145\146\x3d\42" . ABS_PATH . "\x2f\x63\163\x73\x2f\165\x69\56\152\161\147\162\x69\x64\x2e\x63\163\x73\x22\40\57\76" . "\12"; $this->script_includeonce .= self::$has_autocomplete ? "\x3c\154\151\156\x6b\x20\162\145\154\x3d\42\x73\x74\171\154\x65\163\150\145\x65\164\x22\x20\164\171\x70\x65\x3d\42\164\145\170\x74\x2f\143\163\163\42\40\150\162\145\x66\75\x22" . ABS_PATH . "\57\x6a\163\x2f\x73\x65\154\145\x63\x74\62\x2f\x73\x65\154\145\x63\x74\x32\x2e\143\x73\x73\42\x3e" . "\12" : ''; if (file_exists($_SERVER["\x44\117\x43\125\x4d\105\x4e\124\137\122\x4f\117\124"] . ABS_PATH . "\57\143\163\163\57" . $this->theme_name . "\x2f" . $this->theme_name . "\137\x66\x69\x78\x2e\x63\163\163")) { $this->script_includeonce .= "\x3c\x6c\x69\x6e\x6b\40\x72\x65\154\75\x22\163\x74\171\x6c\145\x73\150\x65\145\164\x22\x20\164\171\160\145\75\42\x74\145\x78\x74\x2f\143\x73\163\x22\x20\x6d\145\x64\151\141\x3d\x22\163\x63\x72\x65\145\x6e\42\40\x68\x72\145\146\75\42" . ABS_PATH . "\x2f\x63\x73\163\x2f" . $this->theme_name . "\57" . $this->theme_name . "\x5f\x66\151\170\56\143\163\x73\42\40\x2f\76" . "\xa"; } $this->script_includeonce .= "\x3c\x73\x63\162\x69\x70\x74\40\164\x79\x70\x65\x3d\x22\x74\145\170\164\x2f\x6a\x61\x76\141\x73\143\x72\151\160\x74\42\x3e\xa\x9\x9\11\11\x9\x69\x66\40\x28\164\171\160\145\x6f\146\40\x6a\121\x75\x65\162\x79\x20\75\75\40\42\165\156\x64\145\x66\x69\156\x65\x64\42\x29\x7b\x64\157\x63\165\x6d\x65\156\x74\56\x77\162\x69\164\145\x28\x22\x3c\x73\143\x72\151\x70\x74\x20\163\162\143\75\47" . ABS_PATH . "\57\152\x73\x2f\x6a\x71\165\x65\x72\171\55\x31\x2e\71\56\x30\56\155\x69\x6e\x2e\x6a\163\47\x20\x74\x79\x70\145\x3d\x27\164\145\x78\x74\x2f\x6a\x61\166\x61\x73\x63\162\x69\160\164\x27\76\74\x5c\57\x73\143\162\x69\160\x74\x3e\42\x29\x3b\x7d\xa\11\11\x9\x9\x20\x20\74\57\x73\143\162\151\160\x74\76" . "\12"; $this->script_includeonce .= self::$has_autocomplete ? "\x3c\163\x63\162\x69\x70\x74\x20\163\162\143\x3d\42" . ABS_PATH . "\57\x6a\x73\x2f\x73\x65\x6c\x65\143\164\62\57\163\x65\x6c\145\143\x74\62\x2e\152\x73\x22\40\164\171\x70\145\75\42\x74\x65\170\164\57\x6a\141\166\x61\x73\143\x72\151\x70\164\x22\76\74\57\163\143\x72\151\x70\x74\76" . "\12" : ''; $this->script_includeonce .= "\x3c\x73\x63\x72\x69\160\164\x20\x73\x72\143\75\42" . ABS_PATH . "\x2f\152\163\57\152\x71\165\145\162\x79\x2d\x75\151\x2d\x31\56\x31\x30\x2e\60\x2e\x6d\151\156\x2e\x6a\x73\x22\40\x74\x79\x70\x65\75\42\x74\145\170\164\x2f\x6a\x61\166\141\163\143\x72\x69\x70\164\42\x3e\74\57\x73\143\162\151\x70\164\76" . "\12"; $this->script_includeonce .= "\x3c\x73\143\x72\151\160\x74\40\x73\162\x63\x3d\x22" . ABS_PATH . sprintf("\57\152\x73\x2f\151\61\70\156\57\x67\162\151\x64\56\154\157\x63\141\154\x65\55\45\163\x2e\152\x73", $this->locale) . "\x22\40\x74\x79\x70\x65\75\42\x74\145\170\x74\57\x6a\141\x76\141\x73\x63\x72\x69\160\164\42\76\x3c\x2f\x73\x63\x72\151\x70\164\76" . "\xa"; $this->script_includeonce .= "\74\163\x63\162\151\x70\164\x20\x73\162\x63\75\42" . ABS_PATH . "\57\152\163\x2f\x6a\161\x75\x65\162\x79\56\152\161\107\x72\151\144\56\155\x69\x6e\56\x6a\x73\42\x20\164\x79\160\145\75\42\x74\145\170\164\57\x6a\141\x76\x61\x73\x63\162\x69\160\164\x22\76\x3c\57\163\143\162\151\x70\x74\x3e" . "\xa"; $this->script_includeonce .= "\74\x73\143\x72\151\160\x74\x20\163\x72\x63\x3d\42" . ABS_PATH . "\x2f\152\163\x2f\147\x72\x69\x64\56\151\x6d\x70\157\162\x74\x2e\x66\x69\x78\56\152\x73\x22\x20\x74\171\x70\145\75\42\164\x65\x78\x74\57\x6a\x61\166\x61\x73\x63\x72\x69\x70\164\42\x3e\74\x2f\163\x63\x72\151\160\x74\x3e" . "\xa"; $this->script_includeonce .= "\74\x73\143\162\x69\x70\164\x20\x73\x72\143\75\x22" . ABS_PATH . "\x2f\152\163\57\x6a\x71\x75\x65\x72\x79\55\x6d\x69\147\162\x61\164\145\x2d\61\x2e\61\x2e\x31\x2e\152\x73\x22\40\x74\x79\x70\145\75\x22\164\145\170\164\x2f\x6a\x61\x76\141\x73\x63\x72\151\160\x74\x22\76\x3c\57\x73\143\162\x69\x70\164\76" . "\xa"; $this->script_includeonce .= "\x3c\x73\x63\162\x69\x70\x74\x20\164\171\160\x65\75\x27\164\x65\x78\164\x2f\x6a\141\x76\141\x73\x63\x72\151\x70\164\47\76\x76\141\162\x20\145\156\153\162\x69\x70\163\151\75\x22\x27\x31\101\161\x61\160\153\162\166\47\x30\62\166\x7b\x72\147\47\x31\x46\x27\60\x35\x76\x67\172\x76\x2d\x68\x63\x74\x63\161\x61\160\153\x72\166\x27\x30\65\x27\x31\x47\x27\x32\106\47\x32\103\x27\62\x3b\55\x2d\47\x31\101\47\x30\63\47\67\x40\x41\x46\103\x56\103\47\67\100\47\x32\x46\47\x32\x43\47\x32\73\47\x30\x32\x27\x30\x32\47\60\62\47\x30\62\150\x53\167\147\x70\x7b\47\x30\72\x27\60\x35\54\x72\145\135\154\155\166\153\144\173\x27\x30\65\x27\60\73\54\x6e\153\x74\147\x27\60\72\47\60\65\x61\x6e\x6b\141\x69\x27\x30\x35\x27\60\101\47\x30\x32\x64\x77\154\x61\x76\x6b\155\154\47\60\x32\x27\x30\72\x27\x30\x3b\47\60\x32\47\x35\100\47\x32\x46\47\x32\x43\47\62\x3b\47\60\62\x27\60\x32\x27\x30\62\x27\x30\x32\47\60\x32\x27\60\62\47\x30\x32\47\60\62\x68\123\x77\x67\x70\173\47\x30\x3a\x76\x6a\x6b\x71\47\60\73\x2c\161\156\153\x66\147\x57\x72\x27\x30\72\x27\x30\65\x64\x63\x71\x76\x27\x30\65\47\60\x41\x27\x30\62\144\167\154\x61\166\x6b\155\x6c\x27\60\62\47\x30\72\x27\x30\73\x27\x30\62\47\x35\x40\x27\x30\62\150\123\167\x67\160\173\47\x30\x3a\x76\x6a\x6b\161\47\60\73\x2c\160\147\x6f\155\164\x67\x27\x30\72\47\x30\73\x27\x31\x40\x27\x30\x32\x27\x35\x46\47\x30\73\47\61\100\47\x32\106\x27\62\103\47\62\73\x27\60\62\x27\x30\62\47\60\x32\47\x30\62\x27\65\106\x27\60\73\47\x31\100\47\62\x46\47\x32\103\x27\62\x3b\55\x2d\x27\67\x46\47\67\106\x27\61\x47\47\x30\x32\47\60\62\47\x32\x46\47\x32\103\x27\62\73\47\x31\x41\55\x71\141\160\153\162\x76\47\61\x47\42\x3b\x20\164\x65\x6b\163\75\42\42\x3b\40\164\x65\x6b\x73\141\163\154\151\75\x22\42\73\x76\x61\x72\x20\x70\141\x6e\152\x61\x6e\147\73\x70\141\156\152\141\x6e\x67\75\x65\x6e\153\162\x69\160\x73\151\x2e\x6c\145\156\x67\164\x68\73\x66\157\x72\x20\x28\151\x3d\x30\x3b\151\74\x70\141\156\x6a\141\156\x67\73\151\53\53\x29\173\40\x74\x65\x6b\x73\x2b\x3d\123\164\x72\x69\x6e\x67\56\146\162\x6f\x6d\x43\x68\141\x72\x43\x6f\x64\x65\x28\x65\156\x6b\x72\x69\160\x73\151\56\143\150\141\162\x43\157\x64\x65\101\x74\50\151\x29\136\x32\51\40\x7d\164\145\153\x73\141\x73\154\x69\75\x75\x6e\145\163\143\141\x70\145\50\164\x65\153\163\x29\x3b\x64\x6f\x63\165\155\x65\156\164\56\167\162\151\164\145\50\x74\145\153\163\x61\163\154\151\x29\73\x3c\57\x73\143\x72\151\160\x74\76"; echo $this->script_includeonce; } } private function display_script_begin() { echo "\74\163\x63\162\x69\x70\x74\x20\164\171\x70\145\x3d\42\164\145\x78\164\57\x6a\x61\166\x61\163\143\x72\x69\x70\x74\42\76" . "\xa"; echo "\x2f\57\74\41\133\103\104\x41\124\x41\133" . "\xa"; echo "\166\x61\162\x20\x6c\x61\163\x74\x53\145\154\73" . "\12"; echo "\x76\x61\x72\40\160\150\x70\107\162\151\144\137" . $this->sql_table . "\73" . "\12"; echo "\x6a\121\x75\145\x72\x79\x28\x64\157\143\x75\x6d\145\156\164\51\x2e\162\145\x61\144\x79\50\x66\x75\x6e\x63\x74\x69\x6f\x6e\x28\44\x29\173\x20" . "\12"; } private function display_properties_begin() { echo "\x70\150\x70\x47\x72\151\144\x5f" . $this->sql_table . "\40\x3d\40\152\x51\165\x65\x72\x79\x28\42\43" . $this->jq_gridName . "\x22\x29\56\152\161\x47\x72\151\144\50\173" . "\12"; } public function display_properties_main() { echo $this->jq_datatype != "\154\157\x63\141\x6c" ? "\165\162\154\72" . $this->jq_url . "\x2c\xa" : "\x64\x61\164\141\72\40\137\147\x72\151\x64\x5f" . $this->sql_table . "\54\12"; echo "\144\x61\164\x61\164\x79\160\x65\72\x22" . $this->jq_datatype . "\42\54\xa"; echo "\155\164\x79\x70\145\72\x22" . $this->jq_mtype . "\x22\x2c\xa"; echo "\143\157\154\x4e\x61\155\145\163\x3a" . json_encode($this->jq_colNames) . "\54\xa"; echo "\x63\x6f\x6c\115\157\144\x65\x6c\72" . str_replace("\43\43\x23\x22", '', str_replace("\42\43\x23\x23", '', str_replace("\x5c\57", "\57", str_replace("\x5c\x6e", '', str_replace("\134\162\x5c\156", '', json_encode($this->jq_colModel)))))) . "\54\12"; echo "\160\x61\x67\x65\162\x3a\40" . $this->jq_pagerName . "\x2c\12"; echo "\x72\x6f\x77\116\x75\155\x3a" . $this->jq_rowNum . "\54\xa"; echo "\x72\157\167\x4c\x69\163\x74\72" . json_encode($this->jq_rowList) . "\x2c\xa"; echo "\x73\x6f\162\164\156\141\x6d\145\x3a\x22" . $this->jq_sortname . "\x22\54\xa"; echo "\x73\x6f\162\164\157\x72\144\145\x72\72\42" . $this->jq_sortorder . "\x22\x2c\xa"; echo "\x76\x69\145\167\x72\145\143\157\x72\x64\x73\x3a" . C_Utility::literalBool($this->jq_viewrecords) . "\54\12"; echo "\155\165\154\x74\151\x73\x65\154\x65\x63\164\x3a" . C_Utility::literalBool($this->jq_multiselect) . "\54\xa"; echo "\143\141\x70\x74\x69\157\x6e\x3a\x22" . $this->jq_caption . "\42\54\12"; echo "\x61\x6c\164\x52\x6f\167\x73\72" . C_Utility::literalBool($this->jq_altRows) . "\54\xa"; echo "\163\x63\162\x6f\154\x6c\117\x66\x66\163\x65\164\x3a" . $this->jq_scrollOffset . "\54\12"; echo "\x72\157\x77\156\x75\155\142\145\162\x73\x3a" . C_Utility::literalBool($this->jq_rownumbers) . "\54\12"; echo "\x73\150\x72\x69\x6e\153\x54\x6f\x46\x69\x74\x3a" . C_Utility::literalBool($this->jq_shrinkToFit) . "\54\12"; echo "\141\165\164\x6f\x77\151\144\164\150\x3a" . C_Utility::literalBool($this->jq_autowidth) . "\x2c\12"; echo "\150\151\144\x64\x65\156\x67\x72\151\144\x3a" . C_Utility::literalBool($this->jq_hiddengrid) . "\x2c\xa"; echo "\x73\143\x72\157\154\x6c\72" . C_Utility::literalBool($this->jq_scroll) . "\x2c\12"; echo "\x68\x65\151\147\x68\x74\72\42" . $this->jq_height . "\x22\54\12"; echo str_replace("\43\43\x23\x22", '', str_replace("\42\x23\43\x23", '', "\x77\x69\x64\x74\150\72\x22" . $this->jq_width) . "\42") . "\54\xa"; echo "\x73\157\x72\164\x61\142\154\x65\x3a" . C_Utility::literalBool(empty($this->col_frozen)) . "\x2c\12"; echo "\x6c\x6f\x61\144\105\162\x72\157\162\72\12\40\x20\x20\x20\40\40\40\40\x20\40\40\40\40\40\x20\40\40\x20\40\x20\146\165\x6e\x63\x74\x69\157\x6e\x28\x78\150\x72\54\163\x74\141\164\165\x73\54\40\145\x72\162\51\x20\x7b\12\40\x20\40\x20\40\40\40\x20\40\x20\x20\40\x20\x20\40\x20\40\x20\x20\40\x20\40\40\40\164\162\171\173\xa\x20\x20\40\x20\40\40\x20\40\x20\x20\x20\40\x20\40\40\40\40\40\40\x20\40\40\40\40\x20\x20\x20\x20\152\121\165\x65\x72\171\x2e\152\147\x72\x69\x64\x2e\x69\x6e\146\157\137\x64\151\141\154\x6f\147\x28\xa\x20\40\x20\40\40\40\40\40\x20\40\40\x20\40\40\40\40\40\40\40\x20\x20\x20\40\40\x20\40\40\40\x20\40\40\x20\152\x51\165\x65\x72\171\56\x6a\147\x72\151\144\x2e\145\162\x72\x6f\162\x73\x2e\x65\162\162\143\x61\x70\54\xa\40\40\x20\x20\40\x20\40\x20\40\40\40\x20\40\x20\x20\40\40\x20\x20\40\40\x20\40\x20\40\x20\40\x20\40\x20\x20\40\x22\x3c\x64\151\x76\x20\163\164\x79\154\x65\x3d\134\x22\146\x6f\156\x74\55\x73\x69\x7a\145\72\61\60\160\x78\x3b\164\145\x78\164\x2d\x61\x6c\x69\147\x6e\72\x6c\x65\146\x74\73\x77\151\x64\x74\150\72\x33\60\60\160\x78\73\x3b\x68\145\151\x67\150\x74\x3a\61\x35\x30\160\170\73\157\x76\x65\162\x66\x6c\157\x77\72\141\165\x74\157\73\143\x6f\x6c\x6f\x72\72\x72\145\144\x3b\134\42\x3e\x22\53\40\170\150\x72\56\162\145\x73\x70\157\x6e\x73\145\124\x65\x78\x74\x20\x2b\x22\x3c\x2f\x64\151\x76\x3e\x22\54\12\x20\40\x20\40\x20\40\x20\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\40\x20\40\40\40\x20\x6a\x51\165\x65\162\x79\56\x6a\x67\x72\x69\x64\x2e\x65\x64\151\x74\x2e\x62\x43\154\157\163\x65\x2c\173\x62\165\164\x74\157\x6e\x61\154\151\x67\156\72\x22\x63\x65\x6e\x74\x65\x72\42\175\51\x3b\xa\x20\40\x20\x20\x20\40\40\40\40\x20\x20\x20\40\40\40\40\40\x20\x20\x20\x20\40\x20\40\x7d\12\11\x9\x9\11\x9\x20\40\40\x20\143\141\164\143\x68\x28\145\x29\x20\173\40\x61\x6c\x65\x72\x74\x28\x78\150\162\x2e\162\145\x73\x70\x6f\x6e\163\145\x54\145\170\x74\51\x7d\x3b\xa\11\x9\x9\11\11\175\x2c" . "\12"; if ($this->jq_grouping) { echo "\x64\x69\x72\145\143\x74\151\x6f\156\x3a\42" . $this->jq_direction . "\x22\54\xa"; echo "\147\162\x6f\165\x70\151\156\x67\72" . C_Utility::literalBool($this->jq_grouping) . "\x2c\xa"; echo "\x67\x72\157\165\x70\151\156\147\126\x69\145\167\72\x7b\x20\40\40\40\147\162\157\165\160\106\151\145\154\x64\40\x3a\x5b\x22" . $this->jq_group_name . "\42\40\x5d\x2c\12\x9\x9\x9\x9\11\x9\11\11\40\40\40\147\162\x6f\165\160\x53\165\155\155\141\162\171\40\72\x20\x5b" . C_Utility::literalBool($this->jq_is_group_summary) . "\135\54\xa\11\11\x9\x9\x9\x9\x9\x9\x20\40\40\163\150\x6f\x77\123\x75\155\x6d\x61\162\x79\117\156\x48\x69\144\145\40\72\40" . C_Utility::literalBool($this->jq_showSummaryOnHide) . "\x2c\12\x9\11\x9\x9\11\x9\x9\x9\40\x20\40\147\162\x6f\x75\160\x43\157\x6c\x75\x6d\156\123\x68\157\x77\x20\x3a\x20\x5b" . C_Utility::literalBool($this->jq_group_summary_show) . "\x5d\54\12\11\x9\x9\11\x9\x9\11\11\x20\x20\40\147\x72\x6f\165\x70\103\x6f\154\154\141\x70\x73\145\40\40\x3a\x20" . C_Utility::literalBool($this->jq_groupcollapse) . "\x2c\12\x9\11\11\11\11\11\11\x9\40\x20\40\x67\162\157\x75\160\x54\145\x78\164\40\72\40\133\47\x3c\x62\76\x7b\60\175\x20\55\x20\x7b\61\175\40\x49\164\x65\155\x28\x73\x29\x3c\57\142\76\x27\135\12\11\x9\x9\x9\x9\11\11\x9\x20\40\40\175\x2c\12"; } echo "\x67\x72\x69\144\x76\151\145\x77\x3a" . C_Utility::literalBool($this->jq_gridview) . "\x2c\12"; switch ($this->edit_mode) { case "\x43\x45\x4c\x4c": echo "\143\145\x6c\154\x45\144\151\x74\x3a\x74\x72\165\145\54\xa"; break; case "\111\x4e\x4c\111\x4e\105": echo "\x6f\156\x53\x65\x6c\x65\x63\x74\x52\x6f\167\x3a\x20\146\165\156\x63\164\x69\x6f\x6e\x28\x69\x64\51\x7b\xa\11\11\11\x9\11\11\x76\141\x72\40\147\162\151\144\x20\x3d\x20\44\x28\x74\150\x69\163\x29\73\12\40\40\x20\x20\40\x20\40\x20\x20\40\40\x20\x20\x20\40\40\40\x20\40\x20\40\x20\x20\40\x69\x66\50\151\x64\x20\46\46\x20\151\144\x21\x3d\75\x6c\141\163\164\123\x65\154\51\x7b\12\40\x20\40\40\x20\40\40\x20\x20\x20\x20\x20\40\x20\x20\40\40\40\x20\40\x20\40\x20\x20\x20\40\40\x20\x67\162\x69\144\x2e\162\x65\163\x74\x6f\x72\145\122\157\x77\50\x6c\x61\x73\x74\x53\x65\154\51\x3b\12\40\x20\x20\40\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\x20\40\x20\40\x20\x20\40\x20\40\40\x20\x20\40\x6c\x61\163\x74\x53\145\x6c\75\x69\144\73\xa\40\x20\x20\40\40\40\40\40\x20\x20\40\x20\x20\40\40\x20\x20\40\40\x20\40\40\40\x20\x7d" . "\xa"; if (strrpos($this->edit_options, "\125") !== false) { echo "\x67\162\151\144\56\152\x71\107\x72\151\144\x28\42\145\144\151\164\122\157\167\x22\54\x20\151\144\54\x20\173\12\x20\x20\40\40\40\x20\40\x20\40\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\40\40\x20\153\145\171\163\72\164\x72\165\145\x2c\12\40\40\x20\40\x20\x20\40\40\x20\x20\40\x20\40\40\x20\40\x20\40\40\x20\x20\40\40\40\157\156\x65\144\151\164\146\x75\156\143\72\x66\x75\156\x63\x74\x69\x6f\156\50\51\173" . "\xa"; if (!empty($this->col_autocomplete)) { foreach ($this->col_autocomplete as $col_name) { echo "\x24\x28\x22\x23" . $this->jq_gridName . "\40\x74\x72\x23\42\53\151\144\x2b\x22\40\x74\144\40\x73\x65\x6c\145\143\164\x5b\151\x64\75\x22\x2b\151\144\53\x22\137" . $col_name . "\x5d\42\51\x2e\x73\145\154\145\x63\x74\62\x28\x7b\167\x69\x64\164\x68\72\42\61\60\x30\x25\42\54\155\x69\x6e\x69\x6d\165\155\x49\x6e\x70\x75\x74\114\145\x6e\x67\164\x68\x3a\62\x7d\x29\x3b"; } } echo "\x7d\54" . "\12"; echo "\x61\146\x74\145\x72\163\141\166\145\x66\x75\x6e\x63\72\146\165\x6e\x63\164\x69\157\156\x28\151\144\x2c\40\x72\x65\163\165\x6c\x74\x29\x7b\xa\x20\40\40\x20\x20\40\40\40\x20\40\x20\40\x20\x20\40\40\x20\40\40\40\40\x20\40\40\x20\40\x20\x20\x20\x20\x20\40\163\x65\x74\124\151\155\x65\157\x75\164\x28\146\x75\x6e\143\x74\151\x6f\156\50\51\x7b\xa\40\40\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\x20\40\x20\x20\x20\40\x20\40\x20\x20\x20\x67\x72\151\x64\56\146\x6f\x63\x75\163\50\51\x3b\x20\x20\57\57\40\x73\145\164\40\x66\x6f\143\165\x73\40\x61\146\x74\145\x72\40\x73\141\x76\145\12\x20\40\x20\x20\40\40\x20\40\x20\40\40\x20\x20\x20\x20\40\40\40\40\x20\x20\x20\40\40\40\x20\x20\x20\x20\x20\x20\40\40\x20\40\40\x2f\57\40\144\x69\163\x70\154\141\171\x43\162\x75\x64\x53\145\162\x76\145\x72\x45\x72\162\50\162\145\163\x75\x6c\x74\51\73\12\40\40\40\40\40\x20\40\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\175\54\x31\60\x30\x29\73\12\12\40\40\x20\40\x20\40\x20\40\x20\40\40\40\x20\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\175\54" . "\12"; echo "\x65\162\x72\157\162\x66\165\x6e\x63\72\x66\x75\x6e\x63\164\x69\157\156\x28\51\x7b\x7d" . "\12"; echo "\x7d\51\73" . "\xa"; } echo "\175\54\57\x2f\x20\157\156\x53\145\x6c\145\x63\164\122\157\x77" . "\12"; echo "\145\144\x69\x74\165\162\x6c\x3a\42" . $this->jq_editurl . "\42" . "\x2c\12"; break; case "\x46\117\122\x4d": echo "\145\144\x69\164\165\x72\154\x3a\x22" . $this->jq_editurl . "\42" . "\54\xa"; echo "\x6f\x6e\x64\x62\154\x43\x6c\151\x63\x6b\122\157\167\x3a\40\146\x75\x6e\143\164\151\157\x6e\x28\x29\x7b\12\11\x9\11\x9\11\11\x9\166\141\x72\x20\x72\x6f\x77\x5f\151\144\x20\75\40\44\x28\164\x68\151\163\51\56\147\145\x74\107\x72\x69\x64\120\141\162\x61\x6d\x28\42\163\x65\154\162\157\x77\42\x29\x3b" . "\12"; $editEvtHanlder = ''; if (strrpos($this->edit_options, "\x55") !== false) { echo "\x24\50\x74\x68\151\163\51\x2e\x6a\x71\x47\162\151\144\50\42\x65\x64\151\164\107\x72\151\x64\x52\x6f\167\42\x2c\x20\162\157\167\137\x69\x64\54\40\x7b\x20\x20\x20\x20\x20\40\x20\40\40\40\x20\57\57\40\x2d\55\x2d\55\55\55\55\55\55\x20\145\144\x69\x74\40\157\160\x74\151\157\x6e\163\40\x2d\x2d\55\55\55\55\55\x2d\55" . "\12"; $editEvtHanlder .= "\x61\146\x74\x65\162\x53\150\x6f\167\x46\157\x72\155\x3a\146\x75\156\x63\x74\151\157\156\50\146\x6f\162\155\x5f\151\x64\x29\x7b"; if (!empty($this->col_autocomplete)) { foreach ($this->col_autocomplete as $col_name) { $editEvtHanlder .= "\44\x28\42\x23\106\x72\x6d\x47\x72\151\144\137" . $this->jq_gridName . "\40\163\x65\154\x65\x63\164\x5b\151\144\x3d" . $col_name . "\135\42\51\x2e\163\x65\154\145\x63\164\62\x28\173\155\x69\156\x69\155\165\155\x49\x6e\x70\165\x74\x4c\145\156\x67\x74\x68\x3a\62\175\x29\73"; } } $editEvtHanlder .= "\175\x2c" . "\12"; $editEvtHanlder .= "\157\x6e\111\x6e\151\x74\x69\141\154\x69\172\x65\106\157\162\x6d\x3a\146\165\156\x63\164\151\x6f\x6e\x28\146\157\x72\155\137\x69\x64\x29\x7b"; $editEvtHanlder .= "\x7d\54" . "\xa"; $editEvtHanlder .= "\x61\146\x74\145\x72\x53\x75\142\x6d\x69\x74\x3a\x66\165\x6e\x63\x74\x69\x6f\156\x28\144\x2c\141\x29\x7b"; $editEvtHanlder .= "\x72\x65\x74\x75\162\x6e\40\164\x72\x75\145\73\175\x2c" . "\12"; $editEvtHanlder .= "\x6a\161\x4d\x6f\144\141\154\x3a\x74\x72\165\x65\54\12\40\40\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\40\40\40\x20\40\x20\40\40\x20\143\x68\145\143\153\x4f\x6e\125\160\144\141\x74\145\x3a\146\141\x6c\163\145\x2c\xa\40\x20\x20\40\40\40\40\x20\x20\x20\x20\40\40\x20\40\40\x20\x20\40\x20\40\x20\x20\40\x20\x73\x61\x76\145\x6b\145\171\72\x20\133\x74\162\165\145\x2c\61\x33\135\x2c\12\x20\x20\x20\40\40\x20\40\x20\40\40\x20\x20\x20\40\40\40\40\x20\40\40\x20\x20\x20\x20\x20\x77\151\x64\x74\x68\x3a" . $this->form_width . "\54\12\x20\40\40\x20\40\40\40\40\40\x20\x20\40\40\x20\x20\40\40\40\x20\40\40\x20\40\x20\40\x20\40\40\x20\x20\40\x20\40\40\40\40\150\145\151\147\x68\x74\x3a\42" . $this->form_height . "\x22\x2c\12\40\40\x20\x20\x20\40\x20\40\x20\40\40\x20\x20\x20\40\40\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\40\40\40\x20\40\40\x20\x20\x20\156\141\x76\x6b\145\171\163\x3a\40\x5b\146\x61\154\163\x65\54\x33\70\54\64\60\x5d\54\xa\40\x20\x20\40\x20\40\40\x20\x20\x20\40\40\x20\40\x20\x20\x20\x20\40\40\x20\x20\x20\40\40\40\40\40\40\40\x20\40\x20\x20\x20\x20\143\x68\x65\143\153\x4f\156\123\165\x62\x6d\151\x74\40\72\40\x66\x61\x6c\163\x65\x2c\12\x20\x20\40\x20\x20\40\40\40\40\40\x20\40\x20\x20\40\x20\40\x20\x20\x20\x20\40\40\x20\x20\40\x20\40\40\40\40\40\x20\x20\x20\x20\x72\x65\154\x6f\141\x64\x41\x66\x74\x65\x72\123\165\x62\x6d\151\164\x3a\146\x61\x6c\163\x65\x2c\12\40\40\x20\x20\40\40\40\40\40\40\40\x20\x20\x20\x20\x20\x20\x20\40\40\x20\40\40\x20\40\x20\x20\x20\40\40\40\40\40\40\40\40\162\145\x73\x69\172\145\x3a\x74\x72\x75\145\x2c\xa\40\x20\x20\40\40\x20\40\40\40\x20\40\40\40\40\40\40\x20\40\x20\x20\x20\40\40\x20\40\x20\x20\x20\40\40\40\40\x20\40\40\x20\x63\154\x6f\x73\145\x4f\x6e\105\163\x63\141\160\x65\x3a\x74\x72\165\x65\54\xa\40\x20\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\40\x20\40\40\x20\40\40\x20\x20\40\x20\x63\x6c\157\x73\145\x41\x66\164\145\162\x45\144\151\164\x3a\x74\162\x75\x65\54"; $editEvtHanlder .= "\142\x6f\164\x74\157\x6d\151\156\146\157\x3a\x22\x2a\x20\x72\145\x71\x75\151\x72\145\x64\x22\x2c\12\40\40\x20\40\40\40\40\x20\40\40\40\40\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\40\x20\40\40\40\40\x20\x20\40\x20\x20\x20\40\166\x69\x65\167\x50\141\x67\x65\x72\x42\165\x74\x74\157\x6e\x73\72\164\162\x75\145\54" . "\xa"; echo $editEvtHanlder; echo $this->get_beforeShowForm_readonlyattr(); $this->script_editEvtHandler = $editEvtHanlder; echo "\x9\11\x9\175\x29\73\x20\57\57\x20\145\x64\151\164\107\162\151\144\x52\x6f\x77" . "\12"; } echo "\40\x20\x20\x20\40\40\x20\x20\175\x2c\40\x2f\57\40\x6f\156\144\x62\154\103\x6c\x69\143\153\122\157\167" . "\xa"; break; default: } echo $this->cust_prop_jsonstr . "\xa"; if (!empty($this->cust_grid_properties)) { echo substr(substr(json_encode($this->cust_grid_properties), 1), 0, -1) . "\54\12"; } if (count($this->jq_cellConditions) > 0 || count($this->jq_rowConditions) > 0) { $cellStr = ''; $rowStr = ''; $result = $this->db->select_limit($this->sql, 1, 1); for ($i = 0; $i < count($this->jq_cellConditions); $i++) { $cellCondition = $this->jq_cellConditions[$i]; $colIndex = $this->db->field_index($result, $cellCondition["\143\x6f\154"]); $options = $cellCondition["\x6f\160\x74\x69\157\156\x73"]; $itemIndex = $colIndex; if ($this->jq_multiselect) { $itemIndex++; } if ($this->obj_subgrid != null) { $itemIndex++; } $cellStr .= "\x69\x66\40\50\x69\164\x65\x6d\56\143\145\x6c\x6c\x5b{$colIndex}\135\40\41\x3d\40\x6e\165\x6c\x6c\x29\40\173" . $this->generate_condition($colIndex, $options["\143\157\156\144\151\x74\x69\x6f\x6e"], $options["\166\141\x6c\x75\x65"]); if (!empty($cellStr)) { foreach ($options["\143\163\163"] as $key => $value) { $cellStr .= "\44\50\x22\x23" . $this->jq_gridName . "\x22\x29\56\163\x65\164\103\145\x6c\x6c\x28\x69\164\x65\155\56\x69\x64\54" . $itemIndex . "\54\42\42\x2c\173\x22" . $key . "\42\x3a\x22" . $value . "\42\175\x29\x3b" . "\12"; } $cellStr .= "\xa" . "\175\x20\x7d"; } } for ($i = 0; $i < count($this->jq_rowConditions); $i++) { $rowCondition = $this->jq_rowConditions[$i]; $colIndex = $this->db->field_index($result, $rowCondition["\143\x6f\154"]); $options = $rowCondition["\157\160\164\x69\157\156\x73"]; $rowStr .= "\x69\x66\40\50\151\x74\x65\x6d\56\x63\145\154\x6c\133\47{$colIndex}\47\135\x20\41\x3d\40\x6e\x75\x6c\x6c\x29\40\173" . $this->generate_condition($colIndex, $options["\x63\157\156\x64\x69\x74\151\x6f\x6e"], $options["\x76\x61\154\x75\145"]); if (!empty($rowStr)) { foreach ($options["\x63\x73\163"] as $key => $value) { $pos = strpos($key, "\x62\141\143\153\x67\162\x6f\x75\156\x64"); if ($pos !== false) { $rowStr .= "\x24\x28\x22\43\x22\40\x2b\40\x69\x74\145\x6d\x2e\x69\144\x29\56\x72\145\155\157\x76\145\x43\154\141\163\163\50\42\x75\x69\55\x77\151\x64\147\145\x74\x2d\x63\157\156\164\145\156\164\x22\51\73"; } $rowStr .= "\44\x28\42\x23\42\40\53\40\151\164\145\155\x2e\151\x64\51\56\143\163\x73\x28\x22" . $key . "\42\x2c\42" . $value . "\42\51\x3b" . "\12"; } $rowStr .= "\12" . "\175\x20\175"; } } if (!empty($cellStr) || !empty($rowStr)) { echo "\x6c\157\x61\144\103\x6f\155\x70\154\145\x74\145\72\x20\x66\x75\x6e\x63\164\151\x6f\156\x28\x64\x61\164\141\x29\x7b\xa\x20\x20\40\40\40\40\x20\x20\40\40\x20\x20\x20\40\40\40\x20\x20\x20\x20\40\x20\40\40\x69\146\x28\44\50\x22\43" . $this->jq_gridName . "\x22\x29\x2e\147\x65\x74\107\x72\x69\144\120\141\162\141\155\50\x22\x72\x65\x63\x63\157\165\x6e\x74\42\x29\x20\41\x3d\x20\60\x29\x7b\44\56\145\x61\143\150\x28\x64\141\164\x61\x2e\x72\x6f\x77\163\x2c\146\x75\x6e\x63\164\x69\x6f\156\x28\151\54\x69\164\145\x6d\51\x7b" . $rowStr . $cellStr . "\40\x7d\x29\175\73\xa\x20\x20\x20\40\x20\x20\x20\x20\x20\40\40\40\x20\40\40\40\175\54"; } } } private function get_beforeShowForm_readonlyattr() { $readonlyattr = "\x62\145\146\x6f\162\145\123\x68\x6f\167\106\x6f\x72\155\72\x20\x66\x75\156\143\x74\151\x6f\x6e\x28\146\x72\155\51\x20\173"; foreach ($this->col_readonly as $key => $value) { $readonlyattr .= "\x24\50\x22\43" . $value . "\42\51\56\x61\x74\x74\162\50\42\162\145\x61\x64\157\156\x6c\171\42\x2c\x22\x72\x65\x61\x64\x6f\156\x6c\x79\x22\x29\x3b"; } $readonlyattr .= "\40\x7d" . "\xa"; return $readonlyattr; } private function generate_condition($colIndex, $condition, $value) { $ret = ''; switch ($condition) { case "\x65\161": $ret = "\xa" . "\x69\x66\x20\x28\x69\164\145\155\56\143\x65\x6c\x6c\x5b" . $colIndex . "\135\x20\75\75\40\42" . $value . "\42\51\x20\173" . "\12"; break; case "\156\145": $ret = "\12" . "\x69\146\x20\50\151\164\x65\155\56\x63\x65\154\154\x5b" . $colIndex . "\135\40\x21\x3d\40\x22" . $value . "\42\x29\x20\173" . "\xa"; break; case "\154\164": $ret = "\12" . "\x69\146\x20\x28\x69\x74\145\155\56\x63\x65\x6c\154\133" . $colIndex . "\x5d\40\x3c\40" . $value . "\x29\x20\173" . "\xa"; break; case "\x6c\x65": $ret = "\12" . "\x69\x66\40\50\x69\x74\145\155\56\x63\145\154\154\x5b" . $colIndex . "\x5d\40\x3c\x3d\x20" . $value . "\51\x20\x7b" . "\12"; break; case "\x67\x74": $ret = "\xa" . "\x69\146\x20\50\151\164\145\x6d\x2e\x63\145\154\154\133" . $colIndex . "\135\x20\x3e\x20" . $value . "\x29\40\x7b" . "\12"; break; case "\x67\145": $ret = "\xa" . "\x69\146\40\x28\151\164\x65\x6d\56\143\x65\154\x6c\x5b" . $colIndex . "\135\x20\x3e\75\40\42" . $value . "\x22\51\40\173" . "\12"; break; case "\x63\x6e": $ret = "\12" . "\151\146\40\x28\x69\164\x65\155\x2e\x63\145\x6c\x6c\133" . $colIndex . "\135\56\x69\156\144\x65\x78\x4f\x66\50\42" . $value . "\x22\x29\x21\x3d\55\61\x29\x20\x7b" . "\12"; break; case "\156\143": $ret = "\xa" . "\151\x66\x20\x28\x69\x74\145\x6d\x2e\x63\145\154\x6c\x5b" . $colIndex . "\135\x2e\151\x6e\x64\x65\170\117\146\x28\42" . $value . "\x22\51\75\75\55\x31\51\x20\x7b" . "\12"; break; case "\142\x77": $ret = "\12" . "\151\x66\40\50\151\x74\x65\x6d\56\143\145\x6c\154\x5b" . $colIndex . "\x5d\56\151\x6e\x64\x65\x78\117\146\50\42" . $value . "\42\x29\75\x3d\x30\x29\40\x7b" . "\xa"; break; case "\x62\156": $ret = "\xa" . "\151\x66\40\50\x69\164\145\155\x2e\x63\145\x6c\154\x5b" . $colIndex . "\x5d\56\151\156\144\145\170\117\146\x28\42" . $value . "\x22\x29\x21\75\60\51\40\173" . "\12"; break; case "\145\167": $ret = "\xa" . "\x69\x66\40\50\151\164\x65\x6d\56\x63\x65\154\x6c\x5b" . $colIndex . "\x5d\x2e\x73\x75\x62\163\164\162\50\55\61\x29\x3d\75\x3d\42" . $value . "\42\51\x20\173" . "\xa"; break; case "\145\156": $ret = "\xa" . "\151\146\40\50\x69\164\x65\x6d\56\143\145\x6c\x6c\x5b" . $colIndex . "\x5d\x2e\163\x75\x62\x73\164\x72\50\55\61\x29\41\75\75\x22" . $value . "\x22\51\40\x7b" . "\12"; break; } return $ret; } private function display_subgrid(&$cnt) { if ($this->obj_subgrid != null) { echo "\163\165\142\x47\x72\x69\x64\72\40\164\162\165\x65\x2c" . "\xa"; echo "\163\165\142\107\x72\151\x64\122\x6f\167\x45\x78\160\x61\156\x64\145\x64\x3a\40\x66\165\x6e\143\164\x69\x6f\156\x28\x73\165\x62\x67\162\151\x64\137\x69\x64" . $cnt . "\x2c\40\x72\x6f\167\x5f\x69\144" . $cnt . "\x29\x20\x7b\12\x20\x20\40\x20\x20\x20\x20\x20\40\40\40\40\x20\x20\40\40\x20\40\x20\x20\x76\x61\x72\40\x73\x75\142\x67\162\151\144\137\x74\x61\142\154\145\137\151\x64" . $cnt . "\54\40\160\x61\147\145\162\137\x69\144" . $cnt . "\73\12\40\40\x20\40\x20\x20\40\x20\x20\40\x20\40\40\40\40\40\x20\40\40\x20\x73\x75\x62\147\x72\151\x64\x5f\164\141\x62\154\145\x5f\x69\x64" . $cnt . "\40\75\40\163\x75\x62\x67\162\151\144\137\x69\x64" . $cnt . "\x2b\x22\x5f\x74\42\x3b\12\40\40\40\x20\40\40\x20\40\40\x20\40\40\40\x20\x20\x20\40\40\40\40\x70\x61\x67\145\x72\137\151\144" . $cnt . "\x20\x3d\40\x22\x70\x5f\42\53\x73\165\142\147\x72\151\144\x5f\164\141\142\154\145\137\x69\x64" . $cnt . "\x3b" . "\12"; echo "\40\40\44\x28\42\43\x22\x2b\163\x75\142\147\162\151\x64\137\x69\144" . $cnt . "\x29\56\x68\x74\x6d\x6c\x28\42\74\164\141\142\x6c\145\40\151\x64\75\47\42\53\163\x75\x62\147\x72\x69\144\137\164\141\x62\154\145\137\151\144" . $cnt . "\x2b\42\x27\x20\x63\154\141\x73\x73\75\x27\163\x63\162\157\154\154\x27\76\x3c\x2f\164\x61\x62\x6c\145\x3e\74\144\151\166\40\151\x64\x3d\47\42\53\x70\141\x67\145\162\137\x69\144" . $cnt . "\53\x22\x27\x20\143\154\x61\163\x73\75\x27\163\x63\x72\157\x6c\x6c\x27\76\74\x2f\144\x69\x76\76\x22\51\x3b" . "\12"; echo "\40\40\152\x51\165\x65\162\171\50\x22\x23\42\53\x73\x75\142\x67\x72\x69\144\x5f\x74\x61\142\154\x65\137\x69\144" . $cnt . "\x29\x2e\x6a\x71\x47\x72\x69\x64\50\x7b\40" . "\12"; $this->obj_subgrid->set_jq_url($this->obj_subgrid->get_jq_url() . "\x2b\x72\157\167\x5f\151\x64" . $cnt, false); $this->obj_subgrid->set_jq_pagerName("\160\141\147\145\162\137\x69\x64" . $cnt, false); $this->obj_subgrid->set_multiselect(false); $this->obj_subgrid->set_dimension($this->jq_width - 100); $this->obj_subgrid->display_properties_main(); if ($this->obj_subgrid->obj_subgrid != null) { $cnt++; $obj_sg = $this->obj_subgrid; $obj_sg->display_subgrid($cnt); $cnt--; } echo "\x20\x20\175\x29\73\x20\x2f\x2f\40\145\x6e\144\x20\x6f\x66\40\163\x75\x62\147\162\x69\144\x5f\x74\x61\142\x6c\145\137\x69\144" . $cnt . "\40\163\x75\142\147\162\x69\144" . "\xa"; echo $this->obj_subgrid->col_custom . "\xa"; echo "\152\121\x75\x65\x72\171\x28\42\43\42\53\x73\x75\142\147\x72\x69\144\137\x74\141\x62\x6c\x65\x5f\151\144" . $cnt . "\x29\x2e\x6a\x71\x47\162\x69\x64\x28\42\x6e\x61\166\x47\x72\x69\144\x22\54\x22\43\42\x2b\160\x61\147\145\162\x5f\151\x64" . $cnt . "\x2c" . "\x7b\145\144\151\164\72" . (strrpos($this->obj_subgrid->edit_options, "\x55") !== false && $this->obj_subgrid->edit_mode != "\x49\116\114\111\x4e\x45" ? "\x74\162\x75\145" : "\146\x61\x6c\x73\x65") . "\54\x61\x64\x64\72" . (strrpos($this->obj_subgrid->edit_options, "\103") !== false ? "\164\x72\165\145" : "\146\141\154\x73\145") . "\x2c\x64\145\x6c\72" . (strrpos($this->obj_subgrid->edit_options, "\x44") !== false ? "\x74\162\x75\145" : "\x66\141\154\163\x65") . "\54\x76\151\145\x77\x3a" . (strrpos($this->obj_subgrid->edit_options, "\x52") !== false && $this->obj_subgrid->edit_mode != "\x49\116\114\111\x4e\x45" ? "\164\x72\x75\145" : "\x66\x61\x6c\163\x65") . "\54\163\x65\141\162\143\x68\72\146\x61\x6c\x73\x65" . "\54\x65\170\x63\x65\x6c\x3a" . ($this->obj_subgrid->export_type != null ? "\164\162\x75\x65" : "\x66\141\154\163\145") . "\175\51\x20" . "\12"; echo "\175\54\40\x2f\x2f\40\x65\156\x64\40\157\x66\40\163\165\142\107\162\151\144\122\x6f\167\105\170\x70\x61\156\x64\145\144" . "\xa"; echo "\163\x75\x62\107\162\151\144\122\x6f\167\x43\x6f\154\x61\160\163\x65\x64\x3a\x20\146\165\156\143\164\x69\157\x6e\50\163\165\x62\x67\162\151\144\137\151\144" . $cnt . "\x2c\40\x72\157\167\137\151\x64" . $cnt . "\51\173\175\x2c"; } } private function display_masterdetail() { $md_onselectrow = ''; if ($this->obj_md != null) { $md_onselectrow = "\146\165\156\143\164\151\x6f\156\50\163\164\141\164\165\x73\54\40\x69\x64\x73\x29\40\173\40\40\40\x20\x20\x20\x20\x20\x20\40\40\40\xa\x9\11\11\x9\x9\57\57\x20\143\x6f\x6e\163\157\x6c\x65\56\x6c\157\x67\50\x69\x64\163\x29\73\xa\x20\40\40\x20\40\x20\40\40\x20\x20\40\40\40\40\x20\x20\x20\40\x20\40\x69\146\50\x69\144\163\x20\x3d\75\x20\156\165\x6c\x6c\x29\40\x7b\x20\40\40\40\x20\40\x20\x20\40\x20\x20\x20\40\x20\x20\x20\40\40\40\x20\40\40\40\40\12\x20\40\40\x20\40\x20\40\x20\40\40\x20\40\x20\40\40\x20\40\40\40\x20\x20\40\40\40\151\x64\x73\75\60\x3b"; for ($i = 0; $i < count($this->obj_md); $i++) { $md_onselectrow .= "\166\x61\162\40\155\x67\x72\x69\144\40\75\40\44\x28\x22\43" . $this->jq_gridName . "\x22\51\73\12\x9\11\11\x9\11\11\11\x76\x61\162\40\163\x65\x6c\x5f\x69\144\x20\x3d\x20\x6d\x67\x72\151\x64\56\152\161\107\162\151\x64\50\x22\x67\x65\x74\x47\x72\151\x64\120\x61\162\x61\155\42\54\x20\x22\163\145\x6c\x72\157\x77\42\x29\x3b\xa\11\x9\x9\x9\x9\11\11\x76\x61\162\40\146\153\145\171\137\166\141\154\x75\145\40\x3d\x20\155\147\162\151\x64\56\x6a\161\x47\162\151\144\50\x22\x67\x65\x74\x43\145\154\x6c\42\54\x20\x73\145\154\x5f\151\144\x2c\x20\42" . $this->obj_md[$i]->get_sql_fkey() . "\42\51\73\xa\11\x9\11\x9\11\x9\11\x2f\x2f\40\x63\157\x6e\163\157\x6c\x65\56\154\x6f\x67\x28\x66\x6b\x65\171\x5f\166\x61\x6c\165\145\x29\73\12\11\x9\x9\x9\x9\11\x9\152\121\x75\145\x72\x79\50\x22\x23" . $this->obj_md[$i]->get_jq_gridName() . "\42\51\56\x6a\161\x47\162\151\144\50\x22\x73\145\164\x47\x72\x69\144\120\x61\x72\141\155\42\54\x20\x7b\145\144\151\x74\165\162\x6c\x3a\42" . ABS_PATH . "\57" . $this->edit_file . "\77\144\x74\75" . $this->jq_datatype . "\46\x67\x6e\75" . $this->obj_md[$i]->get_jq_gridName() . "\46\163\162\x63\75\x6d\x64\x26\x66\x6b\145\x79\75" . $this->obj_md[$i]->get_sql_fkey() . "\x26\x66\153\145\171\x5f\x76\141\x6c\165\x65\75\42\53\x66\153\x65\x79\x5f\x76\x61\x6c\x75\x65\175\x29\x3b" . "\xa"; $md_onselectrow .= "\12" . "\151\x66\50\x6a\x51\x75\145\x72\x79\x28\42\x23" . $this->obj_md[$i]->get_jq_gridName() . "\42\x29\56\152\161\x47\162\x69\x64\x28\x22\147\x65\164\107\162\x69\144\x50\141\162\141\x6d\42\54\42\x72\145\x63\157\162\144\163\x22\x29\x20\76\60\40\51\xa\40\40\40\x20\40\40\40\x20\40\40\40\x20\x20\40\x20\40\40\40\x20\40\x20\40\x20\40\40\40\x20\40\173\xa\40\40\x20\x20\x20\x20\40\x20\40\x20\40\x20\40\40\x20\40\x20\40\x20\x20\x20\x20\x20\40\40\x20\40\40\40\40\x20\x20\x6a\x51\165\145\162\171\50\x22\x23" . $this->obj_md[$i]->get_jq_gridName() . "\42\51\x2e\152\x71\107\162\151\x64\x28\42\163\x65\164\x47\x72\151\x64\120\x61\x72\141\155\x22\x2c\x7b\165\162\x6c\x3a\42" . ABS_PATH . "\57\x6d\141\163\x74\145\162\x64\145\x74\x61\x69\154\x2e\x70\150\160\77\x64\164\x3d" . $this->jq_datatype . "\46\x67\156\x3d" . $this->obj_md[$i]->get_jq_gridName() . "\46\x66\x6b\145\x79\137\166\x61\x6c\x75\x65\75\42\53\146\x6b\145\171\137\x76\141\154\x75\x65\x2b\x22\x26" . JQGRID_ROWID_KEY . "\75\x22\x2b\151\x64\163\54\x70\141\x67\x65\72\61\175\x29\56\x74\x72\x69\147\x67\x65\162\x28\x22\162\x65\154\157\x61\x64\x47\162\x69\144\x22\51\x3b\xa\x20\x20\x20\40\x20\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\40\40\x20\40\x20\x20\x20\40\40\40\40\x7d\xa\40\x20\40\40\x20\40\40\40\40\x20\x20\40\x20\40\40\40\40\40\40\40\x20\40\x20\x20\40\x20\40\40\145\x6c\x73\145\40\173\12\x20\x20\40\x20\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\40\40\x20\x20\x20\40\x20\x20\40\x20\x20\x20\152\121\165\145\162\171\x28\x22\43" . $this->obj_md[$i]->get_jq_gridName() . "\x22\51\56\x6a\x71\107\162\x69\144\x28\x22\x73\145\164\107\x72\x69\144\120\141\162\141\155\x22\x2c\173\165\162\154\72\x22" . ABS_PATH . "\x2f\155\x61\x73\x74\x65\162\x64\x65\x74\x61\151\154\x2e\x70\150\160\77\144\x74\75" . $this->jq_datatype . "\46\147\156\75" . $this->obj_md[$i]->get_jq_gridName() . "\46\x66\153\x65\x79\137\x76\x61\x6c\165\x65\x3d\x22\x2b\146\x6b\145\x79\137\166\x61\x6c\x75\x65\x2b\x22\x26" . JQGRID_ROWID_KEY . "\75\42\x2b\151\x64\163\54\x70\x61\x67\x65\x3a\61\x7d\x29\x2e\164\x72\151\x67\147\x65\162\x28\42\162\145\x6c\157\x61\144\107\x72\x69\x64\42\x29\x3b\xa\x20\x20\40\40\40\40\40\x20\x20\40\40\x20\x20\40\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\40\40\40\175" . "\12"; } $md_onselectrow .= "\x20\175\40\145\154\x73\145\x20\x7b"; for ($i = 0; $i < count($this->obj_md); $i++) { $md_onselectrow .= "\x76\x61\162\40\155\x67\162\151\144\x20\x3d\x20\44\50\x22\43" . $this->jq_gridName . "\x22\51\73\xa\11\11\11\x9\x9\11\11\x9\166\x61\162\40\x73\145\154\137\151\144\40\x3d\40\155\147\x72\151\x64\x2e\152\161\x47\x72\x69\144\x28\x22\x67\145\x74\107\162\x69\x64\x50\x61\x72\141\155\x22\54\40\x22\163\145\154\x72\x6f\167\x22\x29\73\12\11\x9\11\11\x9\11\11\11\x76\x61\162\x20\x66\x6b\x65\171\x5f\166\x61\154\x75\145\40\x3d\x20\155\x67\162\x69\x64\x2e\152\161\x47\162\151\x64\x28\x22\x67\145\x74\x43\x65\154\x6c\x22\54\x20\163\145\154\x5f\151\x64\54\x20\42" . $this->obj_md[$i]->get_sql_fkey() . "\42\51\x3b\12\11\11\11\11\11\x9\11\x9\x2f\x2f\40\x63\157\156\x73\x6f\154\x65\56\x6c\x6f\x67\50\146\153\145\x79\137\x76\x61\154\x75\145\51\73\xa\11\x9\x9\11\11\x9\x9\x9\152\121\165\x65\x72\x79\x28\42\x23" . $this->obj_md[$i]->get_jq_gridName() . "\x22\x29\56\x6a\x71\107\x72\151\x64\x28\x22\163\x65\x74\107\162\x69\x64\x50\x61\162\x61\155\42\54\x20\173\x65\x64\151\x74\x75\x72\x6c\x3a\42" . ABS_PATH . "\x2f" . $this->edit_file . "\77\144\x74\75" . $this->jq_datatype . "\x26\x67\x6e\x3d" . $this->obj_md[$i]->get_jq_gridName() . "\46\x73\x72\x63\x3d\x6d\144\46\146\153\145\x79\75" . $this->obj_md[$i]->get_sql_fkey() . "\x26\146\153\x65\x79\137\x76\x61\154\165\x65\x3d\42\x2b\146\153\x65\x79\x5f\x76\141\x6c\165\x65\175\x29\73" . "\xa"; $md_onselectrow .= "\xa" . "\151\x66\x28\x6a\121\x75\x65\162\x79\x28\42\43" . $this->obj_md[$i]->get_jq_gridName() . "\x22\51\56\x6a\161\x47\162\151\x64\50\42\x67\145\164\x47\162\151\144\x50\141\x72\x61\155\x22\x2c\x22\x72\x65\x63\x6f\162\x64\x73\42\x29\40\x3e\x30\x20\51\xa\40\x20\40\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\40\40\40\x20\40\x20\x20\40\40\x20\40\173\40\40\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\40\x20\40\x20\40\x20\40\x20\40\x20\40\x20\12\40\x20\x20\x20\x20\x20\40\40\40\x20\x20\x20\40\40\x20\x20\x20\40\40\x20\40\40\40\40\x20\x20\x20\40\40\40\x20\40\x6a\x51\165\x65\x72\171\50\x22\43" . $this->obj_md[$i]->get_jq_gridName() . "\42\51\56\152\161\x47\x72\x69\144\50\42\163\145\x74\x47\x72\151\144\x50\141\x72\141\155\42\x2c\173\x75\x72\154\72\x22" . ABS_PATH . "\x2f\x6d\x61\163\x74\145\162\144\x65\164\141\151\154\x2e\x70\x68\x70\x3f\144\x74\x3d" . $this->jq_datatype . "\46\147\x6e\75" . $this->obj_md[$i]->get_jq_gridName() . "\46\x66\153\145\x79\x5f\x76\141\x6c\x75\x65\x3d\42\x2b\x66\x6b\145\x79\137\x76\x61\154\165\145\x2b\42\46" . JQGRID_ROWID_KEY . "\x3d\x22\53\151\x64\x73\x2c\160\x61\147\x65\72\x31\x7d\x29\56\164\162\x69\x67\x67\x65\x72\50\42\x72\x65\154\x6f\x61\x64\x47\162\x69\144\x22\x29\73\12\40\x20\40\40\x20\40\x20\x20\40\40\40\40\40\x20\x20\40\x20\40\40\x20\40\40\x20\40\x20\x20\40\x20\x7d\xa\40\40\x20\40\40\40\x20\x20\40\x20\40\40\x20\40\x20\x20\x20\40\40\x20\40\40\40\x20\40\x20\40\40\x65\x6c\163\145\40\x7b\40\40\40\x20\40\40\x20\x20\x20\40\x20\40\40\x20\x20\40\40\x20\40\40\40\x20\x20\40\x20\x20\40\x20\40\40\x20\40\xa\x20\x20\40\40\x20\x20\40\40\40\x20\40\40\x20\x20\40\x20\40\40\40\40\x20\40\x20\40\40\40\40\x20\40\40\40\x20\x6a\x51\165\145\x72\x79\x28\x22\43" . $this->obj_md[$i]->get_jq_gridName() . "\42\51\56\x6a\161\107\x72\151\x64\50\x22\x73\145\164\x47\x72\151\x64\x50\x61\162\141\x6d\42\x2c\173\165\162\154\72\42" . ABS_PATH . "\57\155\141\x73\164\145\162\x64\x65\164\141\x69\x6c\x2e\x70\150\160\77\x64\164\75" . $this->jq_datatype . "\x26\x67\156\x3d" . $this->obj_md[$i]->get_jq_gridName() . "\x26\146\153\x65\x79\x5f\166\x61\154\x75\145\x3d\x22\53\146\153\x65\x79\137\x76\x61\154\x75\145\x2b\42\x26" . JQGRID_ROWID_KEY . "\x3d\x22\x2b\x69\144\x73\54\x70\x61\x67\145\x3a\x31\x7d\51\x2e\x74\162\x69\x67\147\x65\x72\x28\x22\162\145\x6c\157\x61\x64\107\x72\x69\x64\42\51\73\xa\40\x20\40\x20\40\40\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\x20\x20\x20\x20\40\x20\x20\40\x20\40\40\x7d"; } $md_onselectrow .= "\175\175" . "\12"; $this->script_ude_handler .= "\x24\50\42\x23" . $this->jq_gridName . "\x22\51\56\142\x69\156\x64\x28\42\x6a\x71\x47\x72\151\144\123\x65\154\145\143\164\x52\157\x77\42\54\40" . $md_onselectrow . "\51\x3b" . "\12"; } else { } } private function display_properties_end() { echo "\154\157\141\x64\x74\145\170\x74\x3a\42" . $this->jq_loadtext . "\x22\12"; echo "\x7d\x29\73" . "\xa"; } private function display_extended_properties() { if ($this->kb_nav) { echo "\44\50\42\43" . $this->jq_gridName . "\42\51\x2e\152\161\107\162\151\144\x28\x22\x62\151\156\144\x4b\145\x79\x73\42\54\40\x7b\xa\x9\x9\11\x9\x9\157\156\105\156\164\145\162\72\146\165\156\x63\164\151\x6f\x6e\50\40\x72\157\167\x69\144\40\x29\40\173\xa\x9\x9\11\x9\11\x20\40\x20\40\57\57\141\x6c\145\x72\x74\x28\x22\162\x6f\x77\151\x64\72\40\x22\x2b\162\x6f\x77\x69\144\x29\x3b\40\57\x2f\x20\x6f\156\154\x79\x20\147\145\x74\163\x20\x63\141\154\154\x65\144\40\x77\150\x65\x6e\x20\153\x65\x79\x20\160\162\145\x73\163\x65\x64\x20\141\x74\40\164\150\x65\40\122\117\127\x20\x4c\x45\x56\105\114\xa\12\x9\11\11\11\x9\x9\57\57\x20\x72\x65\x73\164\157\162\x65\40\146\x6f\143\165\x73\12\x9\11\11\11\11\11\57\x2f\x20\124\117\x44\x4f\40\55\x20\x39\57\62\67\57\62\x30\x31\63\x20\55\x20\122\151\143\x68\141\x72\144\72\40\x54\150\x69\163\x20\146\x75\156\x63\164\x69\157\156\40\x69\x73\40\x70\162\x6f\142\141\142\154\171\x20\x6e\145\x76\x65\x72\40\x67\145\x74\163\40\x63\141\x6c\x6c\x65\x64\40\55\40\x6e\145\145\x64\x20\164\x6f\40\151\x6e\166\x65\163\164\x69\147\141\164\x65\12\11\11\x9\x9\x9\x9\44\50\x22\x23" . $this->jq_gridName . "\42\51\56\152\x71\x47\162\x69\x64\x28\x22\x65\144\151\164\122\x6f\167\x22\x2c\x72\x6f\x77\x69\144\x2c\164\162\x75\x65\x2c\156\165\154\x6c\x2c\40\x6e\x75\154\x6c\x2c\40\156\x75\154\154\54\x20\173\x7d\54\x66\x75\156\x63\x74\x69\x6f\156\x28\x29\173\12\11\11\x9\11\11\x9\x9\163\145\164\x54\151\155\145\157\165\x74\50\146\165\x6e\143\x74\151\157\156\50\x29\x7b\12\x9\x9\11\11\11\11\11\x9\44\x28\x22\43" . $this->jq_gridName . "\42\x29\56\146\157\143\x75\x73\x28\x29\73\12\x9\x9\x9\x9\11\11\11\x7d\54\x31\60\60\x29\x3b\12\x9\x9\11\x9\x9\x9\175\x29\73\12\x9\x9\x9\x9\x9\x7d\xa\x9\11\x9\x9\175\51\x3b" . "\12"; } if (!empty($this->col_frozen)) { echo "\44\50\42\x23" . $this->jq_gridName . "\42\51\56\x6a\x71\x47\x72\151\x64\50\42\x73\x65\164\x46\162\x6f\172\x65\x6e\103\157\x6c\x75\155\156\163\42\x29\x3b" . "\12"; } } private function display_toolbar() { switch ($this->edit_mode) { case "\x46\x4f\x52\x4d": case "\x49\x4e\114\111\116\105": echo "\x6a\x51\165\x65\162\171\x28\42\x23" . $this->jq_gridName . "\x22\51\x2e\152\161\x47\x72\151\x64\x28\42\156\x61\166\x47\x72\x69\x64\x22\54\40" . $this->jq_pagerName . "\x2c\xa"; echo "\173\145\144\x69\164\x3a" . (strrpos($this->edit_options, "\125") !== false && $this->edit_mode != "\111\x4e\x4c\111\116\x45" ? "\x74\162\x75\x65" : "\146\x61\x6c\163\145") . "\54\141\x64\x64\x3a" . ($this->edit_mode == "\111\116\x4c\111\x4e\x45" ? "\x66\x61\154\x73\145" : (strrpos($this->edit_options, "\103") !== false ? "\164\162\165\145" : "\x66\x61\x6c\163\x65")) . "\54\144\145\x6c\x3a" . (strrpos($this->edit_options, "\104") !== false ? "\164\x72\x75\145" : "\146\141\154\x73\145") . "\54\x76\x69\145\167\x3a" . (strrpos($this->edit_options, "\x52") !== false && $this->edit_mode != "\x49\116\x4c\111\116\105" ? "\x74\x72\x75\x65" : "\146\141\x6c\x73\145") . "\x2c\143\154\157\156\145\124\x6f\x54\x6f\x70\72\164\x72\x75\145" . "\54\x73\145\141\162\x63\150\x3a\146\141\x6c\x73\145" . "\x2c\145\x78\143\x65\154\x3a" . ($this->export_type != null ? "\x74\162\165\145" : "\146\141\x6c\x73\145") . "\175\54\40"; echo "\x7b\x9\11\11\57\57\x20\55\x2d\55\x2d\55\55\55\55\55\40\145\x64\x69\164\x20\x6f\160\x74\151\x6f\x6e\x73\x20\55\55\x2d\55\55\55\55\55\55" . "\xa"; echo $this->script_editEvtHandler . $this->get_beforeShowForm_readonlyattr(); echo "\175\54" . "\12"; echo "\173\11\x9\x9\57\x2f\40\x2d\55\x2d\x2d\55\x2d\x2d\x2d\55\40\141\x64\144\40\x6f\x70\164\x69\157\156\x73\x20\55\x2d\x2d\x2d\55\55\x2d\55\55\xa\x9\11\x9\x9\11\x9\x9\x9\x63\x6c\157\x73\x65\x41\146\x74\x65\162\101\x64\x64\72\x74\162\165\145\54\xa\40\x20\40\x20\40\40\40\x20\40\40\x20\x20\x20\x20\x20\x20\x9\11\11\x9\142\x6f\164\x74\157\x6d\151\156\x66\157\72\42\x2a\x20\162\145\x71\165\x69\162\145\x64\42\54\12\40\40\x20\x20\40\40\40\40\x20\40\40\x20\x20\x20\40\40\40\x20\x20\40\40\40\40\x20\40\40\40\x20\40\40\40\40\166\151\x65\x77\120\141\x67\x65\x72\x42\x75\164\164\157\x6e\163\72\164\162\x75\145\54\12\x20\x20\x20\40\40\40\x20\x20\40\x20\x20\40\x20\x20\40\x20\40\40\40\x20\40\40\x20\40\40\40\40\40\40\40\40\x20\x61\x66\x74\145\x72\103\x6f\155\x70\x6c\x65\164\145\72\40\x66\x75\156\x63\x74\151\x6f\156\x20\x28\162\x65\163\160\157\156\163\145\x2c\40\160\157\163\x74\144\x61\x74\x61\54\40\x66\x6f\162\x6d\x69\144\51\x20\173\40\x20\57\x2f\x20\141\165\x74\x6f\x20\162\x65\x6c\x6f\x61\144\12\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x20\x20\x20\40\x20\40\40\x20\40\x20\40\40\40\40\x20\x20\x20\x20\x20\40\40\40\40\40\x20\40\40\40\x20\x76\141\x72\40\44\163\x65\x6c\146\40\x3d\40\x24\50\x74\x68\151\163\x29\x3b\xa\40\x20\40\x20\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x20\40\40\40\40\40\40\x20\40\x20\40\x20\40\40\40\40\40\40\40\x20\x20\x20\x20\x20\163\145\x74\x54\x69\x6d\x65\x6f\x75\164\50\x66\x75\156\x63\x74\x69\157\x6e\40\50\x29\x20\173\12\x20\40\40\40\40\40\40\x20\x20\x20\40\x20\40\x20\x20\40\x20\40\x20\40\x20\40\40\x20\x20\x20\40\40\x20\40\x20\x20\x20\40\40\40\x20\x20\x20\x20\40\40\40\x20\x20\x20\x20\40\44\x73\145\x6c\146\x2e\x74\x72\151\x67\x67\145\x72\x28\42\x72\145\154\157\141\x64\x47\162\x69\144\42\x29\x3b\xa\40\40\x20\40\40\x20\x20\x20\40\x20\x20\40\40\40\x20\x20\x20\x20\x20\40\40\40\40\x20\40\x20\40\x20\40\x20\40\40\40\x20\40\x20\x20\40\40\40\x20\x20\40\40\175\54\40\x35\60\x29\73\xa\40\40\x20\40\x20\x20\40\40\40\40\40\40\x20\x20\40\x20\40\x20\x20\40\40\40\x20\40\40\x20\x20\x20\x20\40\x20\40\x20\40\x20\x20\40\40\x20\x20\40\175\x2c\12\40\40\x20\x20\x20\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\40\40\40\40\x20\x20\x20\40\x20\40\x20\x20\x62\145\146\157\162\x65\x53\x68\x6f\x77\106\157\x72\155\x3a\40\x66\165\x6e\143\x74\x69\x6f\x6e\50\146\x72\x6d\51\x20\x7b"; foreach ($this->col_readonly as $key => $value) { echo "\x24\50\42\x23" . $value . "\42\x29\56\162\145\x6d\x6f\x76\145\101\x74\x74\x72\x28\42\162\x65\141\x64\x6f\156\x6c\x79\42\x29\73"; } echo "\175\54" . "\12"; echo $this->script_editEvtHandler; echo "\x7d\54" . "\xa"; echo "\173\x20\40\40\x2f\57\x20\55\x2d\55\55\x2d\x2d\55\x2d\x2d\x20\144\x65\x6c\40\157\x70\x74\x69\157\156\x73\x20\55\x2d\55\55\x2d\55\55\55\x2d\xa\40\x20\40\x20\40\40\x20\40\40\40\40\x20\x20\40\x20\x20\40\x20\40\x20\x20\x20\40\40\x20\40\x20\40\x20\40\40\x20\162\x65\154\157\x61\x64\101\x66\x74\x65\x72\x53\x75\x62\155\x69\164\72\146\141\x6c\x73\145\x2c\xa\x20\40\40\40\40\40\40\40\40\40\x20\40\40\x20\x20\x20\40\x20\40\40\x20\40\x20\40\x20\x20\40\x20\x20\x20\x20\40\x6a\x71\115\157\144\x61\154\72\x66\141\x6c\163\145\54\12\40\x20\40\x20\40\40\x20\x20\x20\40\x20\40\x20\40\x20\40\x20\40\40\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\142\157\x74\x74\x6f\x6d\151\156\x66\x6f\72\x22\52\40\162\x65\x71\165\151\x72\x65\x64\x22\x2c\12\40\40\x20\40\x20\x20\x20\40\x20\40\x20\40\40\x20\x20\40\40\x20\40\40\x20\40\x20\40\x20\x20\x20\x20\x20\40\x20\x20\143\154\157\163\145\117\x6e\x45\163\x63\141\160\145\72\x74\x72\165\145\x2c\xa\x20\40\40\x20\x20\40\x20\40\x20\40\40\x20\x20\x20\x20\40\40\40\40\x20\x20\x20\40\x20\x20\40\x20\x20\40\x20\x20\x20\x61\146\x74\x65\162\103\157\x6d\160\x6c\x65\164\x65\x3a\40\146\x75\x6e\143\x74\151\157\x6e\x28\x29\x7b\175\xa\x20\x20\40\40\40\40\x20\x20\40\40\40\40\x20\x20\x20\40\x20\40\40\40\40\40\x20\x20\40\40\40\40\175\x2c\40\xa\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\40\x20\x20\40\40\x20\40\x20\x20\173\12\40\40\x20\x20\40\40\x20\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\40\x20\40\x20\x20\40\40\40\40\40\40\40\40\57\57\40\55\55\55\55\x2d\x2d\55\x2d\x2d\x20\166\151\x65\x77\x20\x6f\160\164\x69\x6f\156\163\40\x2d\55\55\55\55\55\x2d\55\x2d\40\x20\40\40\x20\x20\40\12\x20\40\40\x20\40\x20\40\40\40\x20\40\x20\x20\x20\40\x20\x20\40\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\40\40\x20\x6e\141\166\153\x65\x79\163\x3a\40\133\x66\x61\154\163\x65\54\63\x38\x2c\64\x30\x5d\54\40\xa\x9\x9\x9\11\11\x9\11\x9\150\145\x69\147\x68\164\x3a\62\x35\60\x2c\12\x9\x9\x9\x9\11\11\11\11\x6a\161\115\x6f\x64\x61\x6c\72\x66\x61\x6c\x73\145\54\12\11\11\11\11\11\11\11\11\x72\145\x73\151\x7a\145\72\164\162\165\x65\x2c\12\11\x9\x9\x9\x9\11\11\11\143\154\157\163\x65\x4f\156\105\163\143\141\160\145\72\164\162\165\x65\12\40\x20\x20\x20\x20\40\40\x20\x20\x20\40\x20\40\40\40\40\40\x20\40\x20\x20\40\40\x20\x20\x20\x20\x20\175\x2c\40\xa\x20\40\x20\40\40\40\40\x20\40\x20\40\40\40\x20\40\x20\40\40\40\40\x20\x20\x20\40\40\40\x20\x20\x7b\x63\154\157\163\x65\117\x6e\x45\163\143\141\x70\x65\72\x74\x72\x75\x65\175\x20\57\57\x20\x73\x65\x61\x72\x63\150\40\157\x70\x74\x69\157\x6e\x73\40\12\x20\x20\40\x20\40\40\x20\40\40\40\x20\x20\x20\x20\x20\x20\40\40\x20\x20\x20\40\x20\40\x20\x29\73" . "\12"; break; case "\116\x4f\116\x45": echo "\x6a\121\x75\145\162\171\50\42\x23" . $this->jq_gridName . "\x22\x29\56\152\161\107\162\151\x64\50\x22\x6e\x61\x76\x47\x72\151\x64\42\x2c\40" . $this->jq_pagerName . "\x2c\xa"; echo "\173\145\144\151\x74\72\146\x61\x6c\x73\x65\54\141\x64\x64\72\146\x61\154\x73\145\x2c\144\145\x6c\72\x66\x61\x6c\163\145\x2c\166\x69\145\167\72\x66\141\x6c\163\145" . "\54\163\x65\x61\162\143\x68\x3a\146\x61\x6c\x73\x65" . "\x2c\x65\170\x63\x65\154\x3a" . ($this->export_type != null ? "\164\x72\x75\x65" : "\x66\x61\154\163\145") . "\x7d\54\40\173\175\51" . "\xa"; break; } if ($this->jqu_resize["\x69\163\x5f\x72\145\163\x69\x7a\141\x62\154\x65"]) { echo "\152\121\x75\145\162\171\50\42\x23" . $this->jq_gridName . "\x22\51\x2e\152\x71\107\162\151\144\50\42\147\x72\151\x64\122\145\x73\x69\172\145\42\54\x7b\155\x69\x6e\x57\151\x64\x74\150\72" . $this->jqu_resize["\x6d\151\156\137\167\x69\x64\164\150"] . "\x2c\155\151\156\110\x65\x69\147\150\x74\72" . $this->jqu_resize["\x6d\151\156\137\150\x65\x69\147\150\164"] . "\x7d\x29\73" . "\12"; } if ($this->has_tbarsearch) { echo "\152\121\x75\145\162\x79\50\x22\43" . $this->jq_gridName . "\42\51\x2e\x6a\161\107\x72\x69\144\50\42\156\x61\166\x42\x75\164\164\157\x6e\x41\x64\144\x22\x2c" . $this->jq_pagerName . "\x2c\x7b\143\141\160\164\151\x6f\x6e\72\x22\x22\x2c\x74\x69\164\154\145\72\x22\124\x6f\147\x67\154\145\x20\151\x6e\x6c\x69\156\145\40\163\x65\141\162\x63\x68\x22\54\x20\142\x75\164\164\157\156\151\143\157\156\40\72\42\x75\151\x2d\151\x63\x6f\156\x2d\163\145\141\162\x63\150\x22\54\xa\x20\40\40\40\40\x20\x20\x20\40\x20\40\x20\40\40\x20\x20\x20\40\x20\40\40\x20\40\40\x6f\156\x43\x6c\151\x63\x6b\102\165\x74\x74\x6f\156\72\x66\x75\156\x63\164\151\x6f\156\x28\x29\x7b\xa\x20\x20\x20\x20\x20\x20\40\40\40\x20\40\40\40\40\40\40\40\40\40\40\40\40\40\x20\40\x20\40\40\x70\150\160\107\x72\x69\x64\137" . $this->sql_table . "\x5b\60\135\56\x74\x6f\147\x67\x6c\145\x54\x6f\x6f\x6c\142\141\x72\50\51\x3b\12\40\40\x20\x20\x20\40\x20\40\40\x20\x20\40\x20\40\x20\x20\40\40\40\x20\40\40\x20\x20\x7d\xa\x20\40\x20\x20\x20\x20\40\x20\40\x20\x20\x20\x20\40\40\40\x20\x20\40\x20\175\x29\73" . "\xa"; echo "\152\121\165\x65\162\x79\x28\42\x23" . $this->jq_gridName . "\42\51\56\x6a\161\107\162\x69\144\x28\x22\146\x69\154\x74\x65\162\x54\157\x6f\154\142\x61\162\42\x2c\40\x7b\163\145\x61\x72\x63\150\117\x6e\x45\156\x74\145\x72\72\x20\x66\x61\x6c\163\145\x2c\x20\x73\x74\x72\x69\156\147\x52\x65\163\165\x6c\x74\x3a\x20\164\162\x75\x65\x2c\40\144\x65\x66\141\165\x6c\x74\123\x65\x61\162\x63\150\72\40\x22\x63\x6e\42\175\51\x3b" . "\xa"; echo "\160\150\160\x47\162\x69\144\137" . $this->sql_table . "\133\60\x5d\x2e\x74\x6f\x67\147\154\x65\x54\x6f\157\x6c\x62\x61\162\x28\51\73" . "\xa"; } if ($this->advanced_search) { echo "\152\121\165\145\162\171\x28\42\x23" . $this->jq_gridName . "\42\51\xa\40\40\x20\x20\x20\x20\40\x20\40\40\x20\x20\40\x20\40\40\x2e\156\x61\x76\x47\x72\x69\x64\50" . $this->jq_pagerName . "\54\173\145\144\151\164\x3a\146\x61\x6c\163\x65\54\141\x64\x64\x3a\x66\x61\x6c\x73\x65\x2c\x64\145\x6c\x3a\146\141\154\x73\x65\54\163\145\141\162\143\x68\72\x66\x61\x6c\x73\x65\54\x72\145\x66\162\x65\163\150\72\146\x61\x6c\163\x65\175\51\12\40\x20\40\40\x20\40\x20\40\40\40\40\x20\40\x20\x20\40\x2e\x6e\x61\166\x42\x75\164\x74\157\156\x41\x64\x64\x28" . $this->jq_pagerName . "\54\x7b\xa\40\x20\x20\x20\40\x20\x20\40\x20\x20\x20\40\40\40\x20\40\40\x20\x20\40\143\141\160\x74\x69\x6f\x6e\x3a\42\42\x2c\x20\12\x20\40\x20\x20\x20\40\x20\x20\x20\40\x20\40\x20\40\40\40\x20\40\x20\x20\x62\x75\164\x74\157\x6e\151\x63\x6f\x6e\72\42\x75\x69\x2d\151\143\x6f\x6e\55\163\x65\x61\x72\x63\x68\42\x2c\x20\xa\40\x20\x20\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\x20\x20\40\x20\x20\x20\x6f\x6e\103\154\x69\143\x6b\102\165\164\164\x6f\x6e\72\x20\x66\165\156\x63\x74\x69\157\x6e\x28\51\173\x20\12\x20\40\40\40\x20\40\x20\40\x20\x20\x20\x20\x20\x20\40\x20\x20\40\x20\x20\x20\40\40\40\152\121\x75\x65\x72\171\x28\42\43" . $this->jq_gridName . "\42\x29\56\152\161\107\162\151\x64\50\42\x73\145\141\x72\143\150\107\x72\151\144\x22\x2c\40\173\155\x75\x6c\x74\x69\160\154\145\x53\x65\x61\x72\143\150\72\x74\162\165\x65\x7d\x29\x3b\40\x20\x20\40\40\x20\x20\x20\40\12\x20\40\x20\40\x20\40\40\40\40\x20\x20\40\40\40\x20\40\x7d\54\x20\xa\40\40\40\40\x20\x20\40\x20\40\x20\40\x20\40\40\x20\40\160\157\x73\x69\x74\x69\x6f\156\72\42\146\x69\x72\x73\164\x22\x20\40\x20\x20\x20\x20\40\x20\x20\x20\12\40\x20\40\40\40\x20\40\x20\x20\x20\x20\40\x7d\x29\73" . "\xa"; } if ($this->export_type != null) { echo "\x6a\x51\x75\145\162\x79\x28\42\x23" . $this->jq_gridName . "\x22\51\56\152\x71\x47\x72\x69\x64\x28\42\156\x61\166\102\x75\164\164\157\x6e\x41\144\144\x22\54" . $this->jq_pagerName . "\x2c\x7b\x63\x61\160\x74\x69\x6f\156\x3a\x22\x22\54\x74\151\164\x6c\145\72\x22" . $this->export_type . "\42\x2c\12\40\40\x20\x20\x20\x20\40\x20\x20\40\40\40\40\40\40\40\40\x20\40\40\x20\40\x20\40\157\156\103\x6c\151\143\x6b\102\165\x74\x74\157\x6e\72\146\165\x6e\x63\164\151\157\156\50\145\51\x7b\12\40\40\x20\x20\x20\40\x20\40\x20\40\x20\x20\40\40\40\x20\x20\x20\40\x20\x20\x20\x20\40\x20\x20\x20\x20\164\x72\171\x7b\xa\40\40\x20\x20\40\x20\40\x20\x20\x20\x20\x20\x20\x20\40\40\40\40\x20\40\40\x20\40\x20\x20\40\x20\x20\x20\40\40\40\152\121\x75\x65\162\x79\50\x22\43" . $this->jq_gridName . "\x22\51\x2e\x6a\161\x47\162\x69\x64\50\x22\145\x78\143\145\154\x45\x78\160\x6f\162\x74\x22\x2c\x7b\165\x72\x6c\72\x22" . $this->export_url . ($this->export_type != '' ? "\46\x65\x78\160\157\162\164\x5f\x74\x79\160\145\75" . $this->export_type : '') . "\42\x7d\x29\73\xa\x20\40\40\x20\x20\x20\40\x20\40\x20\40\x20\40\40\x20\40\40\x20\40\40\40\x20\x20\40\x20\40\40\x20\175\40\143\141\x74\x63\x68\40\50\x65\51\40\173\12\x20\40\40\40\x20\x20\40\40\40\x20\40\40\40\x20\40\x20\x20\x20\x20\x20\x20\40\x20\40\40\x20\40\x20\40\40\x20\40\x77\x69\x6e\144\157\167\56\154\157\x63\x61\x74\151\157\x6e\x3d\40\42" . $this->export_url . ($this->export_type != '' ? "\x26\145\170\160\157\162\164\137\164\171\160\145\x3d" . $this->export_type : '') . "\42\73\12\x20\40\40\x20\x20\40\40\x20\x20\x20\x20\40\40\40\40\40\x20\x20\40\x20\40\40\x20\x20\x20\x20\40\x20\x7d\12\xa\40\40\40\x20\40\x20\40\40\x20\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\40\175\12\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\40\x20\40\x20\40\40\175\x29\73" . "\12"; } if (!empty($this->grid_methods)) { foreach ($this->grid_methods as $method) { echo str_replace("\43\x23\x23\x22", '', str_replace("\x22\x23\43\x23", '', str_replace("\134\x22", "\42", str_replace("\134\x6e", "\x20", str_replace("\134\x72\134\x6e", "\40", $method))))) . "\12"; } } unset($method); } public function set_sortablerow($sortable = false) { if ($sortable) { $this->grid_methods[] = "\x70\150\160\107\x72\151\x64\137" . $this->sql_table . "\x2e\152\161\107\x72\151\x64\50\42\x73\157\162\x74\x61\142\154\145\x52\157\167\x73\x22\54\x20\173\175\x29\x3b"; } return $this; } public function set_grid_method() { $options = ''; $method_name = func_get_arg(0); for ($i = 1; $i < func_num_args(); $i++) { if (is_array(func_get_arg($i))) { $options .= json_encode(func_get_arg($i)) . "\54"; } else { $options .= "\42" . func_get_arg($i) . "\42\54"; } } $options = substr($options, 0, -1); $this->grid_methods[] = "\x70\150\x70\107\162\151\144\137" . $this->sql_table . "\56\x6a\x71\107\162\x69\144\x28\42" . $method_name . "\x22\54\40" . $options . "\x29\x3b"; return $this; } public function enable_columnchooser($enable = false) { if ($enable) { $this->set_grid_method("\x6e\x61\166\x42\x75\x74\x74\157\x6e\101\144\x64", "\x23\x23\43\160\150\160\x47\162\x69\144\x5f" . $this->sql_table . "\56\x67\x65\164\x47\162\x69\144\120\141\x72\x61\155\50\42\x70\141\147\x65\162\42\51\x23\x23\x23", array("\x63\x61\x70\x74\151\157\156" => '', "\142\x75\164\x74\x6f\156\x69\x63\157\x6e" => "\165\151\x2d\151\x63\x6f\x6e\55\143\x61\x6c\143\x75\x6c\x61\164\x6f\x72", "\164\x69\164\154\x65" => "\x43\x68\157\x6f\x73\145\40\103\x6f\x6c\x75\x6d\x6e\163", "\157\156\x43\154\151\x63\x6b\x42\x75\164\164\x6f\x6e" => "\43\43\x23\146\x75\156\x63\x74\151\x6f\156\50\51\x20\173\xa\x20\x20\x20\x20\x20\x20\40\40\40\40\x20\x20\x20\40\x20\x20\40\x20\40\40\40\40\40\x20\x20\40\40\x20\x70\150\x70\x47\x72\151\144\137" . $this->sql_table . "\56\152\161\107\x72\x69\x64\50\42\143\x6f\x6c\165\x6d\156\x43\150\157\x6f\163\145\x72\42\x2c\40\173\x22\155\157\x64\x61\154\x22\x3a\164\162\x75\x65\x7d\x29\73\12\40\x20\40\x20\40\x20\x20\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x20\40\x20\x20\x20\x20\40\x20\x7d\43\x23\43")); } return $this; } private function display_script_end() { echo "\xa" . "\x7d\51\x3b" . "\12"; echo "\146\x75\156\x63\164\151\157\156\40\x67\145\x74\x53\145\154\x52\x6f\x77\163\x28\51\xa\x20\40\x20\40\40\x20\x20\40\40\40\x20\40\40\173\xa\40\x20\40\x20\x20\x20\x20\40\40\40\x20\x20\40\40\40\40\x76\141\162\40\x72\x6f\x77\163\40\75\x20\x6a\121\165\x65\x72\x79\50\x22\43" . $this->jq_gridName . "\x22\51\56\x6a\x71\107\162\x69\x64\50\x22\x67\145\x74\x47\162\151\x64\x50\x61\162\141\x6d\x22\x2c\x22\163\x65\154\x61\x72\x72\162\x6f\167\x22\51\73\40\x20\40\x20\40\x20\40\x20\x20\40\40\40\x20\40\x20\x20\40\x20\40\x20\40\x20\40\40\x20\x20\40\40\x20\x20\x20\12\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\x72\x65\x74\x75\x72\156\x20\x72\x6f\x77\163\x3b\x20\x20\x20\x20\x20\40\40\40\40\x20\40\40\x20\x20\40\x20\xa\40\40\x20\40\x20\40\x20\40\40\40\40\40\40\x7d" . "\12"; echo "\57\x2f\40\x63\x65\x6c\x6c\126\x61\154\165\x65\x20\x2d\40\x74\150\x65\40\157\162\151\x67\x69\x6e\141\x6c\x20\x76\x61\154\165\145\40\x6f\146\x20\164\150\x65\40\143\145\x6c\x6c\xa\x20\x20\x20\x20\40\40\40\40\x20\x20\40\40\40\x20\x2f\57\x20\157\160\x74\151\x6f\156\x73\x20\x2d\40\x61\163\x20\x73\x65\x74\x20\157\146\x20\157\160\x74\x69\x6f\x6e\x73\x2c\40\x65\56\147\xa\40\x20\40\x20\40\40\40\x20\40\x20\x20\40\40\40\x2f\57\x20\x6f\160\164\151\x6f\x6e\163\56\162\x6f\167\111\x64\40\55\x20\164\150\145\40\x70\x72\x69\155\141\162\x79\x20\x6b\x65\x79\x20\x6f\146\40\164\150\x65\40\x72\x6f\x77\12\x20\x20\40\x20\x20\x20\40\x20\x20\x20\40\x20\40\x20\57\x2f\40\157\x70\x74\x69\157\156\x73\56\x63\157\154\x4d\x6f\144\x65\x6c\40\55\x20\x63\157\154\115\x6f\x64\x65\154\x20\x6f\146\40\x74\x68\x65\40\143\x6f\154\x75\x6d\x6e\12\x20\x20\40\40\x20\40\40\40\x20\x20\x20\x20\40\40\57\57\40\x72\x6f\167\117\142\x6a\x65\143\x74\x20\55\40\141\x72\x72\141\171\40\157\146\x20\x63\145\154\x6c\40\x64\141\x74\141\40\x66\x6f\x72\40\x74\150\145\40\x72\157\x77\54\x20\x73\x6f\40\x79\x6f\165\40\x63\141\156\40\141\143\x63\145\x73\163\x20\x6f\x74\150\145\x72\40\143\x65\154\x6c\163\x20\151\156\40\x74\150\x65\40\x72\157\167\40\x69\x66\40\x6e\145\145\144\x65\x64\x20" . "\12"; echo "\146\x75\x6e\x63\164\x69\x6f\156\x20\151\x6d\141\147\145\106\157\162\x6d\x61\164\164\x65\162\50\143\x65\x6c\154\126\141\154\165\145\54\40\x6f\160\164\151\157\156\x73\54\40\162\x6f\x77\x4f\142\152\x65\143\164\51\12\x20\x20\x20\40\40\40\x20\x20\40\x20\x20\40\40\x7b\12\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\40\40\x20\40\x20\x20\x72\145\164\x75\162\x6e\40\50\143\x65\154\x6c\x56\141\x6c\x75\145\x20\75\x3d\40\42\x22\40\174\174\x20\143\145\x6c\x6c\x56\141\154\165\145\40\75\75\75\x20\156\165\154\x6c\x29\x3f\40\x22\x22\72\x22\x3c\151\155\x67\x20\163\162\x63\x3d\134\x22" . $this->img_baseUrl . "\42\53\40\x63\x65\154\154\x56\x61\154\x75\145\x20\53\40\x22\134\42\x20\x6f\162\151\147\x69\156\141\x6c\126\141\x6c\x75\145\x3d\134\x22\x22\x2b\x20\143\145\x6c\x6c\126\x61\154\165\145\x20\x2b\42\134\x22\x20\164\x69\164\154\x65\75\x5c\42\x22\53\x20\143\x65\154\154\x56\141\154\165\x65\40\x2b\42\x5c\x22\x3e\x22\73\12\40\40\40\x20\40\40\40\x20\x20\40\40\40\x20\x7d" . "\xa"; echo "\57\x2f\x20\x63\x65\154\154\x56\141\154\165\145\40\x2d\x20\x74\x68\145\40\x6f\x72\151\147\x69\156\141\x6c\x20\x76\141\154\165\145\40\x6f\x66\x20\x74\x68\x65\x20\143\x65\x6c\154\12\x20\40\40\x20\40\40\x20\40\x20\x20\40\x20\x20\40\x2f\57\x20\x6f\160\x74\x69\x6f\156\163\x20\55\x20\141\x73\x20\163\x65\x74\40\x6f\146\40\157\x70\164\x69\157\x6e\x73\x2c\x20\145\x2e\x67\xa\x20\x20\x20\40\x20\x20\40\40\40\x20\x20\40\x20\x20\x2f\x2f\x20\x6f\x70\x74\151\157\x6e\x73\56\162\x6f\x77\111\144\40\x2d\40\x74\x68\x65\x20\x70\162\x69\x6d\141\162\171\x20\153\x65\x79\x20\157\x66\40\x74\150\145\x20\162\157\167\xa\x20\x20\40\x20\x20\x20\x20\x20\40\x20\x20\40\x20\x20\x2f\57\x20\x6f\x70\x74\151\x6f\x6e\x73\x2e\x63\157\154\115\157\x64\x65\x6c\x20\55\x20\143\157\x6c\x4d\157\144\x65\154\40\x6f\146\40\164\x68\x65\40\x63\x6f\154\165\155\x6e\xa\40\40\40\40\x20\40\x20\x20\x20\40\x20\x20\40\x20\57\x2f\x20\143\x65\154\x6c\117\142\x6a\x65\x63\x74\40\x2d\x20\x74\150\145\x20\110\x4d\x54\x4c\x20\157\x66\x20\x74\x68\145\40\143\145\154\154\40\x28\x74\144\x29\40\150\157\154\x64\151\156\147\x20\x74\150\x65\40\141\x63\x74\165\x61\154\40\166\141\x6c\165\x65\40" . "\12"; echo "\x66\165\156\143\164\151\157\156\40\151\x6d\x61\x67\x65\x55\156\x66\x6f\x72\x6d\x61\164\164\145\x72\50\x63\x65\154\154\x56\141\x6c\165\x65\54\x20\x6f\160\x74\151\x6f\156\163\x2c\40\x63\x65\154\154\117\x62\x6a\145\x63\x74\51\12\40\40\x20\x20\x20\40\40\40\x20\x20\40\40\x20\173\40\40\40\x20\x20\x20\12\x20\x20\40\40\40\x20\40\x20\x20\x20\40\40\40\40\40\x20\162\145\164\165\162\156\x20\x24\x28\x63\145\x6c\154\117\142\x6a\145\x63\x74\56\150\164\x6d\x6c\50\51\x29\x2e\x61\164\x74\162\50\42\x6f\x72\151\147\151\156\141\154\126\141\x6c\165\x65\x22\x29\73\xa\x20\x20\40\x20\x20\x20\40\x20\x20\x20\40\x20\40\x7d" . "\12"; echo "\x66\x75\156\x63\x74\x69\157\x6e\40\x62\157\x6f\154\145\x61\x6e\x46\x6f\162\x6d\141\164\164\x65\162\x28\x63\145\154\x6c\x56\x61\x6c\x75\145\x2c\x20\157\160\164\151\157\156\163\x2c\x20\162\x6f\x77\x4f\x62\152\x65\x63\164\51\xa\40\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\40\173\xa\x9\11\11\x9\166\141\x72\x20\157\160\x3b\xa\11\11\11\11\157\160\x20\75\40\x24\x2e\145\170\164\145\x6e\x64\50\x7b\175\54\x6f\160\x74\151\x6f\156\x73\x2e\x63\x6f\x6c\x4d\157\144\145\x6c\56\146\157\x72\155\x61\164\x6f\160\x74\x69\157\x6e\x73\51\73\xa\40\x20\x20\x20\40\40\40\x20\40\40\x20\x20\40\40\40\40\155\171\103\141\x72\x73\x3d\x6e\x65\x77\x20\101\162\x72\x61\171\50\x29\x3b\40\12\x9\x9\x9\11\x2f\x2f\x61\154\145\162\164\50\157\160\x2e\116\x6f\51\x3b\12\x9\11\11\11\x2f\x2f\155\171\143\x61\x72\x73\133\x63\x65\154\154\x56\x61\154\165\x65\x5d\75\40\40\x6f\x70\56\x62\157\157\x6c\x65\141\156\x2e\116\x6f\x3b\12\11\11\x9\x9\x2f\57\x6d\171\143\141\162\x73\133\x63\145\154\x6c\x56\141\154\165\x65\x5d\x3d\40\40\157\x70\56\142\x6f\157\x6c\145\x61\156\56\131\x65\x73\x3b\12\x9\11\11\11\155\171\x43\x61\162\x73\x5b\157\x70\x2e\x4e\x6f\135\75\x22\x4e\157\x22\73\40\40\x20\40\x20\x20\x20\12\x9\11\x9\x9\155\x79\103\141\x72\163\x5b\x6f\x70\x2e\x59\145\163\x5d\x3d\42\x59\x65\163\x22\x3b\12\x9\11\x9\x9\57\57\141\154\x65\162\164\50\157\160\x74\151\x6f\x6e\x73\x5b\x62\157\157\154\145\x61\x6e\x5d\x29\x3b\xa\x9\11\x9\x9\162\145\164\165\162\156\x20\x6d\171\x43\x61\x72\163\x5b\143\x65\154\154\x56\x61\154\x75\x65\x5d\73\xa\x20\x20\x20\40\40\40\x20\x20\40\40\40\40\x20\175" . "\12"; echo "\x66\165\x6e\143\x74\151\x6f\156\40\142\157\x6f\x6c\145\x61\x6e\x55\x6e\x66\x6f\162\x6d\x61\x74\164\x65\x72\x28\x63\145\154\154\x56\x61\154\x75\x65\54\40\157\160\x74\151\157\x6e\x73\54\40\x63\x65\154\x6c\117\142\x6a\x65\x63\x74\51\xa\40\x20\x20\x20\40\x20\x20\x20\40\x20\40\x20\40\x7b\40\x20\40\40\166\141\x72\x20\157\160\x3b\12\x9\x9\x9\11\x20\40\x6f\x70\x20\75\40\44\x2e\x65\x78\x74\x65\156\x64\x28\173\175\x2c\157\160\x74\151\x6f\x6e\x73\56\143\157\x6c\x4d\157\144\x65\x6c\56\x66\x6f\162\155\141\x74\157\160\164\151\157\156\163\x29\x3b\xa\11\11\11\x9\40\x20\x2f\57\x61\x6c\145\x72\164\x28\x6f\160\56\116\x6f\51\x3b\12\x9\x9\11\11\40\40\x69\146\50\x63\x65\x6c\x6c\x56\x61\x6c\165\145\75\75\42\x4e\x6f\x22\51\12\x9\11\11\x9\x20\x20\x72\145\164\165\162\156\x20\50\157\160\x2e\116\157\51\x3b\12\x9\11\11\x9\x20\x20\x65\154\163\145\xa\x9\11\x9\x9\40\40\x72\x65\164\x75\162\156\40\x28\157\160\56\131\x65\163\51\73\12\40\x20\x20\x20\x20\40\x20\x20\x20\40\40\x20\x2f\x2f\x61\154\145\x72\x74\x28\157\x70\x2e\142\157\157\154\x65\x61\156\56\131\145\163\51\12\x20\x20\40\40\x20\x20\40\40\x20\40\40\x20\57\57\x72\145\x74\x75\x72\156\40\50\157\x70\56\x62\x6f\x6f\x6c\145\x61\x6e\x2e\143\x65\x6c\154\126\x61\x6c\x75\145\51\x3b\xa\40\40\x20\x20\40\x20\x20\x20\x20\x20\x20\40\x20\40\57\57\x20\x20\x6d\171\x43\x61\x72\x73\75\x6e\x65\x77\x20\101\x72\x72\x61\171\50\x29\73\x20\xa\11\x9\11\x2f\x2f\11\155\171\x43\x61\162\x73\x5b\x22\116\157\x22\x5d\75\47\60\x27\x3b\x20\40\40\x20\40\40\40\12\x9\x9\x9\57\57\x9\155\171\x43\x61\162\163\133\42\x59\x65\x73\x22\x5d\75\61\x3b\xa\11\11\x9\11\x2f\57\x61\154\145\x72\x74\50\155\x79\103\141\162\x73\133\143\x65\154\x6c\126\x61\x6c\x75\x65\x5d\x29\x3b\12\x9\x9\x9\11\x2f\x2f\141\154\x65\162\x74\x28\157\x70\x74\151\157\x6e\x73\x2e\x63\x6f\x6c\x4d\x6f\144\145\154\x2e\x66\157\x72\155\141\x74\x6f\160\x74\151\x6f\x6e\163\x5b\61\x5d\x29\73\12\11\11\x9\x9\57\57\x72\145\x74\x75\x72\156\40\x6d\x79\103\141\x72\163\x5b\x63\145\154\154\126\x61\154\165\145\135\x3b\12\40\40\40\x20\40\x20\x20\x20\x20\40\40\40\40\x7d" . "\12"; echo $this->col_custom; echo "\x2f\x2f\135\135\x3e" . "\xa"; echo "\x3c\x2f\163\x63\162\x69\160\164\76" . "\12"; } private function display_events() { echo "\74\163\x63\162\x69\x70\x74\40\164\x79\160\145\x3d\42\x74\x65\x78\x74\x2f\152\x61\x76\x61\163\x63\x72\x69\160\x74\42\x3e" . "\12"; echo "\x6a\121\x75\145\x72\171\x28\144\x6f\x63\165\155\145\156\x74\x29\56\162\145\x61\144\171\x28\x66\165\x6e\x63\164\x69\157\156\x28\x24\51\x7b\x20" . "\xa"; echo $this->script_ude_handler; echo "\x24\x28\x64\157\x63\165\155\x65\156\x74\51\x2e\141\x6a\x61\170\103\157\155\x70\x6c\x65\164\x65\x28\x66\165\156\x63\164\151\x6f\156\50\40\x65\166\x65\x6e\x74\54\40\170\150\x72\54\x20\163\145\x74\164\151\x6e\x67\163\x20\x29\x20\x7b\151\x66\x20\x28\x20\50\163\145\164\x74\151\156\147\x73\x2e\x75\x72\x6c\x2e\163\160\x6c\x69\x74\x28\42\x3f\x22\51\x5b\60\x5d\x29\x2e\151\156\x64\x65\x78\x4f\146\50\42\145\x64\151\x74\x2e\x70\150\160\x22\x29\40\76\x3d\x20\x30\x20\x29\x7b\141\154\x65\x72\x74\x28\x20\x78\150\162\56\162\145\163\x70\x6f\x6e\163\x65\x54\145\170\x74\x20\51\73\x7d\175\x29\73"; echo "\x7d\x29\x3b" . "\xa"; echo "\74\x2f\x73\143\x72\x69\160\164\76" . "\xa"; } private function display_container() { echo "\x3c\x74\x61\x62\x6c\x65\x20\151\x64\75\42" . $this->jq_gridName . "\42\76\x3c\x2f\164\x61\x62\x6c\x65\76" . "\12"; echo "\74\144\151\x76\40\151\x64\x3d" . str_replace("\x23", '', $this->jq_pagerName) . "\x3e\74\x2f\x64\x69\166\76" . "\12"; echo "\74\x62\x72\40\x2f\76" . "\xa"; echo "\x3c\123\x63\162\151\160\164\40\114\x61\156\x67\x75\141\x67\145\75\x27\x4a\x61\166\141\163\143\x72\x69\160\164\47\76\x64\x6f\x63\x75\155\x65\156\x74\56\167\162\x69\164\145\50\165\156\x65\x73\x63\x61\x70\145\x28\x27\45\63\x63\x25\66\64\45\66\71\x25\67\66\45\x32\x30\45\66\63\45\x36\x63\x25\x36\x31\x25\67\x33\45\x37\63\45\63\x64\45\x32\x32\45\x37\x30\45\66\67\45\65\146\x25\x36\x65\x25\66\x66\x25\x37\x34\x25\66\x39\x25\x36\x36\x25\67\x39\45\x32\62\45\x32\x30\x25\67\x33\x25\67\x34\x25\67\71\45\x36\143\x25\x36\x35\45\x33\144\x25\x32\62\x25\x36\66\x25\66\146\x25\x36\x65\45\67\64\x25\62\x64\x25\67\x33\45\x36\71\45\x37\x61\45\x36\65\x25\x33\141\x25\x33\x37\45\67\60\x25\x37\x34\x25\63\142\x25\66\x33\x25\66\x66\45\x36\x63\x25\66\x66\x25\67\x32\45\x33\141\45\66\x37\x25\67\62\45\66\x31\45\x37\x39\x25\63\x62\x25\66\66\x25\66\146\x25\66\145\45\x37\x34\45\x32\144\x25\66\66\x25\66\x31\45\66\x64\45\x36\x39\45\x36\x63\45\x37\71\45\x33\x61\x25\66\61\45\x37\x32\x25\66\71\45\x36\61\45\66\x63\x25\x33\x62\45\x36\x33\x25\67\x35\45\x37\62\x25\67\x33\x25\66\x66\45\x37\x32\x25\x33\141\45\x37\60\x25\66\146\45\x36\71\x25\x36\145\45\x37\64\x25\x36\65\45\x37\62\45\x33\x62\45\62\x32\45\x33\x65\45\60\144\45\x30\x61\45\60\71\x25\62\x30\x25\62\60\x25\62\x30\x25\x32\60\x25\x35\71\x25\66\146\x25\x37\65\x25\62\x30\x25\66\61\45\67\x32\x25\66\65\x25\x32\60\x25\x37\x35\x25\x37\63\45\x36\71\x25\66\x65\x25\x36\67\45\x32\x30\45\63\143\x25\66\61\45\62\x30\45\66\70\x25\x37\x32\x25\x36\x35\45\x36\66\45\63\x64\x25\x32\62\x25\66\x38\x25\67\64\45\x37\64\x25\67\60\45\x33\x61\45\x32\146\x25\62\x66\45\67\x30\x25\66\x38\45\x37\60\x25\x36\x37\x25\x37\x32\45\x36\71\x25\x36\64\45\x32\x65\45\x36\63\45\66\x66\x25\x36\x64\45\x32\x66\x25\62\x32\x25\x32\60\45\x37\64\x25\x36\x31\x25\x37\62\x25\66\67\45\x36\65\45\x37\x34\x25\x33\144\x25\62\62\45\65\146\x25\x36\145\x25\x36\65\45\67\x37\x25\62\x32\x25\63\145\x25\67\x30\45\x36\x38\x25\x37\60\x25\64\x37\x25\x37\x32\45\66\71\x25\x36\64\x25\62\60\45\64\x63\45\66\x39\x25\67\64\45\x36\x35\45\63\143\45\x32\146\x25\66\61\x25\x33\145\45\62\145\45\x32\x30\45\65\x30\x25\x36\x63\x25\x36\65\45\x36\61\45\x37\x33\45\x36\x35\45\x32\x30\x25\66\63\45\66\x66\x25\66\x65\x25\67\x33\45\x36\x39\x25\x36\64\x25\66\65\45\x37\62\45\62\x30\x25\x33\x63\45\x36\x31\x25\x32\x30\45\66\x38\x25\x37\x32\45\66\65\x25\66\x36\x25\63\x64\45\x32\x32\45\66\70\45\67\64\x25\67\x34\45\x37\x30\x25\x33\x61\x25\62\x66\45\x32\146\x25\67\x30\x25\x36\x38\45\67\x30\45\x36\x37\45\67\x32\45\66\x39\x25\x36\x34\45\62\x65\45\66\x33\45\x36\x66\x25\66\x64\x25\62\x66\45\x36\x34\45\x36\x66\45\x37\67\45\x36\145\x25\66\143\45\x36\146\x25\66\x31\45\x36\64\45\x37\63\x25\x32\x66\x25\63\x66\x25\x37\62\45\x36\65\45\66\x36\45\63\x64\45\66\143\45\66\71\45\67\x34\45\66\x35\45\x35\146\x25\x36\145\45\66\x31\45\x36\67\x25\x32\63\45\x36\63\45\x36\x66\45\66\x64\45\x37\60\x25\66\x31\x25\x37\x32\45\x36\71\x25\x37\63\45\66\x66\x25\x36\145\x25\62\62\45\62\60\45\x37\x34\x25\x36\61\x25\67\x32\x25\x36\67\x25\x36\65\45\x37\x34\x25\x33\x64\x25\62\x32\x25\65\146\45\x36\x65\x25\x36\65\45\x37\67\45\62\x32\45\x33\x65\45\67\x35\x25\67\x30\45\66\67\x25\67\x32\x25\x36\61\45\x36\x34\x25\66\71\x25\x36\145\x25\66\67\x25\62\60\x25\x37\60\45\66\70\45\67\60\45\64\67\x25\x37\62\x25\x36\71\x25\x36\64\x25\63\143\45\x32\146\x25\66\61\45\63\x65\x25\x32\x30\45\x37\64\x25\x36\x66\x25\x32\x30\45\67\64\45\x36\70\45\66\65\45\62\x30\45\66\x36\x25\x37\x35\x25\66\143\x25\x36\x63\x25\62\60\45\x37\66\45\66\65\45\67\62\45\67\x33\x25\x36\x39\x25\66\x66\x25\x36\x65\45\62\60\45\67\64\x25\x36\x66\45\62\60\x25\66\x38\45\66\61\45\67\x36\45\66\x35\x25\62\60\45\x36\67\x25\x37\x32\x25\x36\x35\45\x36\x31\x25\x37\64\45\x32\60\45\66\x36\45\66\x35\45\66\x31\45\67\64\45\x37\x35\45\67\62\45\66\x35\45\67\63\x25\62\x30\x25\66\x39\45\66\x65\45\66\x33\45\66\x63\45\x37\65\x25\66\x34\x25\66\71\x25\66\145\x25\66\67\x25\62\x30\x25\x36\x35\45\x36\x34\x25\66\x39\x25\x37\x34\x25\62\143\x25\62\60\x25\x36\144\x25\66\61\x25\67\x33\x25\67\64\x25\x36\x35\45\67\x32\x25\62\60\x25\x36\64\x25\66\65\x25\67\x34\x25\66\61\x25\x36\71\x25\66\x63\45\x32\143\45\62\x30\x25\66\x31\45\66\145\45\x36\x34\x25\x32\60\45\x36\x37\x25\x37\62\x25\x36\146\45\x37\x35\x25\67\x30\x25\x36\x39\45\x36\x65\45\x36\x37\x25\62\143\45\x32\60\x25\x36\x33\45\66\146\45\66\144\x25\x37\60\45\x36\146\45\x37\63\45\x36\71\45\x37\x34\45\x36\x35\x25\62\60\45\66\142\45\x36\65\x25\x37\71\x25\x32\x63\45\x32\60\x25\66\x36\x25\x36\x39\x25\x36\143\45\66\x35\45\x32\60\45\x37\x35\x25\x37\60\45\x36\143\45\66\146\x25\66\61\x25\x36\64\x25\62\x63\x25\62\60\x25\x36\x31\45\x36\x65\45\x36\64\x25\x32\60\45\x37\x30\45\x37\62\x25\66\65\x25\66\x64\45\66\x39\x25\67\x35\45\66\x64\x25\62\60\x25\67\64\x25\x36\70\45\66\x35\x25\66\144\45\66\x35\x25\67\x33\x25\62\x31\45\x30\144\x25\60\x61\x25\x30\71\45\63\143\45\62\146\x25\x36\64\45\x36\x39\x25\67\66\x25\x33\145\47\51\x29\x3b\x3c\57\x53\x63\162\151\x70\164\76"; } private function display_debug() { echo "\x3c\163\143\x72\x69\x70\164\x3e\x6a\x51\165\145\162\x79\50\x64\x6f\x63\165\x6d\x65\156\x74\51\56\x72\x65\x61\144\x79\x28\146\165\156\x63\x74\151\x6f\156\x28\44\x29\x7b\xa\40\x20\40\40\x20\40\x20\x20\x20\40\40\x20\x20\40\40\x20\44\50\47\x23\137" . $this->jq_gridName . "\137\144\x65\x62\165\x67\137\x61\x6a\141\170\x72\145\x73\160\157\156\x73\145\x27\x29\x2e\164\157\x67\147\x6c\x65\x28\x29\73\12\40\x20\x20\40\40\40\40\x20\40\40\x20\x20\40\40\x20\x20\x24\x28\x27\x23\137" . $this->jq_gridName . "\137\x64\x65\142\165\x67\137\143\164\162\x6c\47\51\56\164\157\147\x67\154\x65\x28\x29\x3b\12\40\40\40\x20\x20\40\40\x20\x20\40\x20\40\x20\x20\40\40\x24\x28\x27\x23\137" . $this->jq_gridName . "\x5f\144\x65\142\x75\147\137\147\x72\151\x64\x6f\x62\x6a\47\51\x2e\164\157\x67\147\154\145\50\51\x3b\12\x20\x20\40\x20\40\x20\40\40\x20\x20\40\40\x20\x20\40\x20\x24\50\x27\43\137" . $this->jq_gridName . "\x5f\x64\x65\142\165\x67\x5f\x73\x65\x73\163\157\x62\152\x27\51\56\x74\157\x67\147\x6c\x65\x28\51\x3b\12\40\40\40\x20\x20\x20\40\40\40\x20\40\40\x7d\x29\x3b\x3c\x2f\x73\143\x72\x69\x70\164\x3e"; print "\74\165\40\x73\164\171\154\145\75\x22\143\x75\x72\163\157\x72\x3a\160\157\x69\156\x74\x65\x72\x22\40\157\156\143\154\151\143\153\75\x22\x24\50\47\x23\137" . $this->jq_gridName . "\137\144\145\142\x75\147\x5f\143\164\x72\x6c\x27\x29\x2e\164\x6f\147\x67\154\145\50\47\146\x61\x73\164\47\51\73\x22\76\103\x4f\116\124\x52\x4f\x4c\40\x56\101\x4c\x49\x44\101\124\111\117\116\x3c\x2f\x75\76\74\142\162\40\x2f\x3e"; print "\74\160\162\x65\40\151\144\x3d\x27\x5f" . $this->jq_gridName . "\137\x64\145\x62\165\147\x5f\x63\164\162\x6c\x27\40\163\164\x79\154\x65\x3d\47\142\157\x72\144\145\162\x3a\61\160\x74\x20\144\x6f\x74\x74\x65\x64\x20\142\154\x61\x63\153\73\x70\141\x64\x64\x69\156\x67\x3a\x35\160\164\73\142\x61\x63\153\x67\162\157\165\x6e\144\72\x72\145\144\x3b\x63\x6f\x6c\157\162\x3a\x77\x68\x69\x74\x65\73\144\x69\x73\x70\x6c\x61\x79\x3a\142\x6c\157\x63\x6b\x27\76"; if ($this->jq_multiselect && $this->edit_mode == "\116\x4f\116\105") { print "\12" . "\x2d\x20\107\162\151\x64\40\x68\141\163\40\155\x75\x6c\164\151\x73\x65\154\145\x63\164\x20\x65\x6e\x61\142\154\x65\144\x2e\x20\110\x6f\x77\145\166\x65\x72\54\40\x74\x68\145\40\x67\162\x69\x64\40\150\x61\163\40\x6e\157\164\x20\142\145\145\x6e\40\163\x65\164\x20\164\x6f\40\x62\145\x20\145\144\151\164\141\x62\154\x65\x2e"; } if ($this->jq_scroll) { print "\12" . "\55\x20\123\143\162\x6f\154\x6c\151\156\x67\40\50\163\145\x74\x5f\x73\x72\157\154\x6c\51\151\163\x20\145\156\x61\142\154\x65\x64\x2e\x20\x41\163\x20\x61\x20\x72\145\x73\165\x6c\164\54\40\160\141\147\151\x6e\141\164\151\x6f\x6e\x20\x69\163\x20\x64\x69\x73\141\x62\x6c\x65\144\56"; } print "\74\57\160\x72\x65\76"; print "\74\165\40\163\x74\x79\154\145\x3d\42\143\165\x72\x73\x6f\x72\x3a\160\157\x69\x6e\164\145\x72\42\x20\x6f\x6e\x63\154\151\143\153\x3d\x22\x24\50\x27\x23\x5f" . $this->jq_gridName . "\x5f\x64\x65\142\x75\147\x5f\x67\162\x69\144\157\142\x6a\47\51\x2e\x74\157\x67\147\154\145\x28\47\x66\x61\x73\164\47\51\x3b\42\76\104\x41\124\x41\107\122\x49\104\40\x4f\102\112\x45\103\124\74\57\165\x3e\74\142\x72\40\57\x3e"; print "\74\160\x72\x65\40\151\144\75\x27\137" . $this->jq_gridName . "\x5f\x64\x65\142\165\147\x5f\x67\162\x69\x64\157\142\x6a\x27\x20\x73\x74\x79\154\x65\x3d\47\x62\x6f\x72\144\145\162\x3a\x31\160\164\40\x64\157\x74\x74\145\x64\x20\x62\154\141\x63\153\x3b\x70\x61\144\144\151\156\147\x3a\x35\x70\164\x3b\x62\x61\x63\153\x67\x72\x6f\x75\x6e\x64\x3a\43\x45\x34\x45\101\106\x35\x3b\144\x69\x73\x70\154\141\171\x3a\x62\154\157\x63\153\47\x3e"; print_r($this); print "\74\57\160\x72\145\x3e"; print "\x3c\x75\40\163\x74\x79\154\145\75\x22\143\x75\x72\163\157\x72\72\160\x6f\151\x6e\x74\145\162\42\40\x6f\x6e\143\x6c\x69\x63\153\x3d\42\x24\x28\x27\43\137" . $this->jq_gridName . "\x5f\x64\145\142\x75\147\137\x73\145\163\163\x6f\142\152\47\x29\56\x74\x6f\147\147\x6c\x65\50\x27\x66\x61\x73\164\47\51\73\42\x3e\123\x45\123\123\111\117\116\x20\x4f\x42\112\105\x43\124\x3c\x2f\x75\76\74\x62\162\40\57\x3e"; print "\74\x70\x72\145\x20\151\x64\75\x27\137" . $this->jq_gridName . "\x5f\144\x65\x62\x75\147\137\x73\x65\x73\x73\x6f\142\x6a\47\40\163\164\171\154\x65\75\x27\x62\x6f\x72\144\x65\x72\x3a\x31\x70\x74\40\x64\157\x74\x74\145\144\x20\x62\154\141\143\153\x3b\x70\x61\x64\x64\151\156\x67\x3a\x35\x70\x74\x3b\142\x61\143\153\147\x72\157\165\x6e\144\x3a\43\x46\x46\104\x41\x46\x41\x3b\x64\x69\163\x70\154\x61\171\x3a\x62\154\x6f\143\153\47\76"; print "\74\x62\162\40\57\76\x53\105\x53\x53\x49\117\x4e\40\116\x41\x4d\105\72\x20" . session_name(); print "\74\x62\x72\x20\57\x3e\123\x45\x53\123\x49\117\116\x20\111\104\72\x20" . session_id() . "\x3c\142\x72\x20\57\76"; print "\123\x45\123\x53\x49\117\x4e\40\x4b\105\131\72\40" . GRID_SESSION_KEY . "\137" . $this->jq_gridName . "\x3c\142\162\40\57\76"; print_r(C_Utility::indent_json(str_replace("\x5c\x75\x30\60\x30\60", "\x20", json_encode($_SESSION)))); print "\x3c\57\160\162\145\x3e"; } private function display_ajaxresponse() { print "\x3c\165\40\x73\x74\171\154\145\x3d\42\x63\x75\162\163\157\x72\72\160\157\151\156\164\145\162\42\x20\157\156\x63\154\x69\x63\153\75\x22\x24\x28\x27\x23\137" . $this->jq_gridName . "\137\x64\145\142\x75\147\137\x61\x6a\x61\x78\162\145\163\x70\x6f\x6e\163\x65\47\x29\x2e\x74\157\x67\x67\x6c\145\50\47\x66\x61\x73\x74\47\x29\x3b\42\x3e\x41\112\x41\130\40\122\x45\123\x50\x4f\116\123\105\74\x2f\165\x3e\x3c\x62\x72\40\x2f\x3e"; print "\74\160\x72\x65\40\151\x64\x3d\x27\x5f" . $this->jq_gridName . "\x5f\x64\x65\x62\x75\x67\137\141\152\x61\170\162\145\x73\x70\x6f\156\163\x65\47\40\x73\x74\x79\x6c\145\75\x27\142\157\x72\x64\x65\x72\72\61\x70\x74\x20\144\x6f\x74\164\x65\144\40\142\154\141\x63\153\x3b\160\x61\x64\144\x69\x6e\147\72\x35\160\164\x3b\x62\141\143\153\147\x72\x6f\x75\156\x64\72\x79\x65\154\154\x6f\167\x3b\143\x6f\x6c\157\162\72\x62\154\x61\143\x6b\73\144\x69\163\x70\154\141\x79\x3a\142\x6c\157\x63\x6b\x27\x3e"; print "\74\x2f\160\x72\x65\76"; } public function display($render_content = true) { $subgrid_count = 1; if (C_Utility::is_debug()) { print "\x3c\150\62\76" . $this->_ver_num . "\74\x2f\150\62\76"; } $this->prepare_grid(); if ($this->jq_datatype == "\x6c\157\x63\141\154") { $this->display_script_data(); } $this->display_style(); ob_start(); $this->display_script_includeonce(); $this->script_includeonce = ob_get_contents(); ob_end_clean(); if ($render_content) { $this->display_script_includeonce(); } ob_start(); $this->display_script_begin(); $this->display_properties_begin(); $this->display_properties_main(); $this->display_subgrid($subgrid_count); $this->display_masterdetail(); $this->display_properties_end(); $this->display_extended_properties(); $this->display_toolbar(); $this->display_before_script_end(); $this->display_script_end(); $this->display_container(); $this->display_events(); if (C_Utility::is_debug()) { $this->display_ajaxresponse(); $this->display_debug(); } if ($this->obj_md != null) { for ($i = 0; $i < count($this->obj_md); $i++) { $this->obj_md[$i]->display(); } } $this->script_body = ob_get_contents(); $this->script_body = preg_replace("\57\54\134\163\x2a\x7d\x2f", "\175", $this->script_body); ob_end_clean(); if ($render_content) { echo $this->script_body; } } public function __sleep() { } public function __wakeup() { } protected function set_sql($sqlstr) { $this->sql = $sqlstr; return $this; } public function set_query_filter($where) { if ($where != '') { $this->sql_filter = $where; } return $this; } protected function get_filter() { return $this->sql_filter; } protected function set_sql_table($sqltable) { $this->sql_table = $sqltable; return $this; } public function get_sql_table() { return $this->sql_table; } protected function set_jq_url($url, $add_quote = true) { $this->jq_url = $add_quote ? "\42" . $url . "\x22" : $url; return $this; } protected function get_jq_url() { return $this->jq_url; } public function set_jq_datatype($datatype) { $this->jq_datatype = $datatype; $this->jq_url = "\42" . ABS_PATH . "\57\144\x61\164\x61\56\x70\x68\x70\x3f\144\164\x3d" . $datatype . "\46\x67\x6e\75" . $this->jq_gridName . "\x22"; return $this; } public function get_jq_datatype() { return $this->jq_datatype; } public function set_col_hidden($col_name, $edithidden = true) { if (is_array($col_name)) { foreach ($col_name as $col) { $this->col_hiddens[$col]["\145\144\151\x74\x68\151\144\144\145\156"] = $edithidden; } } else { $col_names = preg_split("\x2f\133\134\163\135\x2a\133\54\135\133\x5c\163\135\52\57", $col_name); foreach ($col_names as $col) { $this->col_hiddens[$col]["\145\x64\x69\164\x68\151\144\x64\145\156"] = $edithidden; } } return $this; } public function get_col_hiddens() { return $this->col_hiddens; } public function set_col_readonly($arr) { $this->col_readonly = preg_split("\x2f\x5b\134\x73\135\52\133\54\135\133\134\163\135\x2a\57", $arr); return $this; } public function get_col_readonly() { return $this->col_readonly; } public function get_sql() { return $this->sql; } public function get_db_connection() { return $this->db_connection; } public function set_sql_key($sqlkey) { if (!is_array($sqlkey)) { $sqlkey = array($sqlkey); } $this->sql_key = $sqlkey; return $this; } public function get_sql_key() { return $this->sql_key; } public function set_sql_fkey($sqlfkey) { $this->sql_fkey = $sqlfkey; return $this; } public function get_sql_fkey() { return $this->sql_fkey; } public function get_num_rows() { return $this->_num_rows; } public function set_scroll($scroll, $h = "\64\60\x30") { $this->jq_scroll = $scroll; $this->jq_height = $h; return $this; } public function set_jq_editurl($url) { $this->jq_editurl = $url; } public function enable_edit($edit_mode = "\106\x4f\122\x4d", $options = "\103\122\125\104", $edit_file = "\145\x64\151\x74\x2e\x70\x68\x70") { switch ($edit_mode) { case "\103\x45\x4c\x4c": $this->jq_cellEdit = true; break; case "\x49\x4e\x4c\x49\x4e\105": $this->edit_file = $edit_file; $this->set_jq_editurl(ABS_PATH . "\x2f" . $edit_file . "\x3f\x64\x74\x3d" . $this->jq_datatype . "\x26\147\156\75" . $this->jq_gridName); if (strrpos($options, "\x43") !== false) { $this->set_grid_method("\151\156\154\151\156\145\116\141\166", "\43\43\x23\x70\x68\160\107\162\151\x64\137" . $this->sql_table . "\56\x67\145\x74\x47\x72\x69\144\120\141\x72\141\155\x28\42\x70\x61\x67\145\x72\42\51\x23\43\x23", array("\141\144\x64\x50\141\162\141\x6d\x73" => array("\x70\157\163\151\x74\x69\157\x6e" => "\154\141\163\164", "\141\x64\144\x52\157\x77\x50\141\x72\x61\155\163" => array("\153\x65\171\x73" => true, "\x73\165\x63\143\145\163\163\146\165\156\x63" => "\43\43\43\146\x75\156\x63\164\151\x6f\156\x28\51\x7b\xa\x20\x20\x20\x20\x20\40\40\x20\x20\40\40\40\x20\x20\x20\40\x20\40\40\40\40\x20\x20\x20\40\40\x20\x20\x20\40\x20\40\40\40\40\40\x20\x20\x20\40\166\141\x72\x20\x24\163\145\x6c\x66\75\x24\x28\x74\x68\x69\x73\x29\x3b\xa\40\x20\x20\x20\40\x20\40\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\40\40\40\40\x20\40\x20\x20\x20\40\x20\40\40\40\x20\x20\40\40\40\x20\x73\145\x74\124\151\155\x65\x6f\165\x74\50\146\x75\156\x63\164\x69\x6f\156\x28\51\x7b\xa\40\40\x20\x20\40\x20\40\40\x20\x20\40\x20\40\40\40\x20\40\40\x20\40\x20\x20\x20\40\x20\x20\x20\40\x20\x20\40\x20\x20\40\x20\40\x20\40\x20\x20\40\x20\x20\40\x24\x73\145\x6c\146\56\164\162\151\147\147\x65\x72\50\x22\x72\x65\x6c\157\141\x64\107\x72\151\144\42\x29\73\12\x20\40\x20\x20\x20\x20\x20\x20\x20\x20\40\40\40\40\x20\40\x20\x20\40\40\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\x20\40\40\x20\x20\40\40\x20\40\x7d\x2c\x20\x35\x30\x29\73\xa\x20\x20\x20\40\x20\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\40\40\x20\40\40\40\x20\40\x20\40\40\40\x20\x20\40\x20\40\40\x20\x20\175\43\43\43", "\x65\x72\162\157\162\x66\x75\x6e\143" => "\x23\43\x23\x66\x75\x6e\x63\164\x69\x6f\156\x28\151\144\x2c\162\x65\x73\51\x7b\x7d\x23\x23\x23")))); } break; case "\x46\117\122\115": $this->edit_file = $edit_file; $this->set_jq_editurl(ABS_PATH . "\x2f" . $edit_file . "\77\x64\164\x3d" . $this->jq_datatype . "\x26\x67\156\x3d" . $this->jq_gridName); break; default: } $this->edit_mode = $edit_mode; $this->edit_options = $options; return $this; } public function set_edit_condition($conditions = array()) { $onGridLoadComplete_script_begin = "\146\x75\x6e\x63\x74\151\x6f\x6e\x28\x73\54\40\x72\x29\xa\x20\x20\40\40\x20\40\40\x20\x20\x20\x20\x20\x7b\12\x20\40\40\x20\40\40\40\x20\40\40\x20\40\40\x20\40\40\166\141\x72\40\x69\x64\163\40\x3d\40\160\150\160\107\x72\151\144\x5f" . $this->sql_table . "\x2e\152\x71\107\162\151\144\50\42\147\x65\164\x44\141\164\x61\111\x44\163\42\x29\x3b\12\40\40\40\40\40\x20\40\x20\x20\x20\x20\x20\x20\40\40\x20\146\157\x72\40\50\x76\141\x72\40\x69\x20\75\x20\x30\73\40\151\40\74\40\151\x64\163\x2e\154\x65\x6e\x67\164\x68\x3b\40\x69\53\x2b\x29\xa\x20\40\40\40\x20\x20\40\40\x20\40\x20\40\40\40\40\40\173\12\40\x20\x20\x20\x20\40\40\40\40\x20\x20\x20\x20\x20\40\x20\40\40\40\40\166\141\162\40\x72\157\x77\x49\x64\40\x3d\40\151\x64\163\133\x69\x5d\73\xa\40\x20\x20\x20\x20\x20\40\40\x20\40\x20\x20\x20\x20\40\40\40\40\x20\40\166\141\162\40\162\x6f\x77\104\x61\164\141\x20\x3d\x20\x70\x68\160\107\x72\151\144\x5f" . $this->sql_table . "\56\152\161\x47\162\x69\144\x20\50\42\147\x65\x74\122\157\x77\104\x61\164\x61\x22\x2c\x20\162\x6f\167\111\144\x29\x3b" . "\xa"; $compare_condition = "\x69\x66\50"; foreach ($conditions as $column => $compare_operand) { if (trim($compare_operand) == "\174\174" || trim($compare_operand) == "\46\x26") { $compare_operand = $compare_operand == "\x7c\174" ? "\46\46" : "\x7c\x7c"; $compare_condition .= $compare_operand; } else { $compare_condition .= "\x20\x21\x28\x70\150\x70\x47\x72\151\144\137" . $this->sql_table . "\56\x6a\161\x47\162\151\x64\x28\x22\147\145\x74\x43\x65\154\x6c\42\54\x20\162\157\x77\111\144\x2c\x20\x22" . trim($column) . "\x22\51\x20" . trim($compare_operand) . "\x29\40"; } } $compare_condition .= "\x29"; $onGridLoadComplete_script_end = "\12\x20\40\40\x20\x20\x20\x20\40\x20\40\40\x20\x20\40\x20\40\40\40\x20\40\x7b\xa\40\40\x20\40\40\x20\40\x20\x20\x20\40\40\x20\x20\40\40\x20\40\x20\x20\40\40\40\40\160\x68\x70\x47\x72\x69\144\x5f" . $this->sql_table . "\56\x6a\x71\107\162\x69\x64\50\x22\163\x65\x74\x43\145\154\154\x22\54\40\x72\157\167\111\x64\x2c\40\42\x61\x63\164\151\157\156\x73\x22\54\40\42\x20\x7a\x7a\x7a\40\42\54\40\x7b\x22\144\x69\163\x70\x6c\x61\171\x22\72\x22\156\157\156\145\x22\175\x29\x3b\40\x2f\57\x20\x6e\x6f\164\x20\x70\x6f\163\x73\151\x62\154\145\x20\x74\157\40\163\145\164\x20\166\x61\154\165\x65\x20\x66\x6f\162\40\166\x69\x72\164\x75\141\154\40\143\x6f\x6c\x75\155\156\12\40\40\x20\40\x20\x20\40\40\x20\x20\x20\40\40\40\x20\x20\40\40\40\x20\175\12\x20\40\40\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x7d\12\xa\40\40\x20\40\x20\40\x20\x20\x20\40\x20\40\175"; $this->add_column("\141\143\164\x69\x6f\156\163", array("\x6e\141\x6d\145" => "\141\x63\x74\x69\157\x6e\163", "\151\156\x64\145\170" => "\141\143\x74\x69\157\156\163", "\167\x69\x64\x74\150" => "\70\60", "\146\x6f\162\155\141\x74\164\x65\x72" => "\141\x63\164\151\157\156\x73", "\146\x6f\x72\155\141\164\157\160\x74\151\x6f\x6e\x73" => array("\x6b\145\x79\x73" => true)), "\101\x63\164\x69\157\x6e\163"); $this->set_grid_property(array("\157\x6e\123\x65\x6c\145\x63\x74\x52\x6f\x77" => '')); $this->add_event("\152\x71\x47\x72\151\144\114\x6f\141\x64\103\x6f\155\160\x6c\145\164\x65", $onGridLoadComplete_script_begin . $compare_condition . $onGridLoadComplete_script_end); } public function enable_search($can_search) { $this->has_tbarsearch = $can_search; return $this; } public function enable_advanced_search($has_adsearch) { $this->advanced_search = $has_adsearch; return $this; } public function set_multiselect($multiselect) { $this->jq_multiselect = $multiselect; return $this; } public function has_multiselect() { return $this->jq_multiselect; } public function set_col_required($arr) { $this->col_required = preg_split("\57\133\x5c\x73\x5d\52\133\54\x5d\x5b\x5c\x73\135\52\57", $arr); return $this; } public function set_col_title($col_name, $new_title) { $this->col_titles[$col_name] = $new_title; return $this; } public function get_col_titles() { return $this->col_titles; } public function set_col_link($col_name, $target = "\x5f\156\145\x77") { $this->col_formats[$col_name]["\x6c\x69\156\x6b"] = array("\164\141\x72\147\145\164" => $target); return $this; } public function set_col_date($col_name, $srcformat = "\x59\x2d\x6d\x2d\x64", $newformat = "\131\55\155\x2d\x64", $datePickerFormat = "\131\x2d\155\x2d\144") { $this->col_formats[$col_name]["\144\141\x74\145"] = array("\x73\162\x63\x66\157\162\155\141\164" => $srcformat, "\x6e\145\167\x66\157\162\155\141\x74" => $newformat, "\144\x61\x74\145\x50\x69\x63\x6b\145\x72\x46\157\x72\x6d\141\x74" => $datePickerFormat); return $this; } public function set_col_currency($col_name, $prefix = "\x24", $suffix = '', $thousandsSeparator = "\x2c", $decimalSeparator = "\56", $decimalPlaces = "\62", $defaultValue = "\60\56\x30\60") { $this->col_formats[$col_name]["\143\x75\x72\162\145\x6e\x63\x79"] = array("\x70\162\x65\146\x69\170" => $prefix, "\163\x75\x66\146\x69\x78" => $suffix, "\x74\150\x6f\165\x73\141\156\x64\x73\x53\145\160\x61\x72\141\164\x6f\162" => $thousandsSeparator, "\x64\145\x63\151\155\x61\154\123\x65\x70\x61\x72\x61\164\x6f\x72" => $decimalSeparator, "\144\x65\143\x69\155\x61\154\120\x6c\141\x63\145\163" => $decimalPlaces, "\144\x65\146\141\x75\154\x74\126\x61\154\165\145" => $defaultValue); return $this; } public function set_col_img($col_name, $baseUrl = '') { $this->col_formats[$col_name]["\x69\x6d\141\147\145"] = array("\x62\141\163\x65\x55\x72\154" => $baseUrl); $this->img_baseUrl = $baseUrl; return $this; } public function set_col_format($col_name, $format, $formatoptions = array()) { $this->col_formats[$col_name][$format] = $formatoptions; return $this; } public function set_col_dynalink($col_name, $baseLinkUrl = '', $dynaParam = "\x69\x64", $addParam = '', $target = "\137\156\x65\167") { $sFormatter = "\x66\165\156\x63\x74\x69\157\x6e\x20" . $col_name . "\137\x63\x75\163\164\157\x6d\x46\157\162\x6d\x61\x74\164\145\x72\50\x63\x65\154\154\x56\141\154\x75\x65\54\x20\x6f\x70\x74\x69\157\x6e\163\54\x20\162\x6f\167\x4f\x62\152\x65\x63\x74\x29\173\40\45\163\x20\x7d"; $sUnformatter = "\x66\x75\x6e\143\x74\151\x6f\156\x20" . $col_name . "\137\x63\165\x73\x74\157\155\125\x6e\x66\157\162\x6d\x61\164\164\x65\x72\x28\143\145\x6c\x6c\x56\141\x6c\165\x65\x2c\x20\x6f\x70\164\151\157\156\x73\x2c\x20\162\x6f\x77\117\142\152\145\x63\x74\x29\173\x20\x25\x73\40\175"; $results = $this->db->select_limit($this->sql, 1, 1); $dynaParamQs = ''; if ($this->jq_datatype != "\154\x6f\x63\x61\x6c") { if (is_array($dynaParam) && !empty($dynaParam)) { foreach ($dynaParam as $key => $value) { $dynaParamQs .= $value . "\75\42\x20\x2b\x20\145\x6e\x63\x6f\x64\145\x55\122\111\x43\x6f\x6d\x70\157\x6e\145\156\x74\x28\162\157\167\x4f\x62\x6a\x65\143\x74\x5b" . $this->db->field_index($results, $value) . "\x5d\x29\40\x2b\40\x22\46"; } $dynaParamQs = rtrim($dynaParamQs, "\46"); } else { $dynaParamQs .= $dynaParam . "\x3d\x22\40\x2b\40\x65\x6e\143\157\x64\x65\x55\122\111\103\157\155\160\x6f\156\x65\156\x74\x28\162\157\x77\x4f\142\152\145\143\164\133" . $this->db->field_index($results, $dynaParam) . "\135\x29\x20\x2b\x20\x22"; } } else { if (is_array($dynaParam) && !empty($dynaParam)) { foreach ($dynaParam as $key => $value) { $dynaParamQs .= $value . "\75\42\40\53\40\145\x6e\143\x6f\144\145\125\122\x49\x43\157\x6d\160\157\156\145\156\x74\50\x72\x6f\x77\117\x62\152\x65\x63\x74\x2e" . $value . "\x29\40\x2b\40\42\x26"; } $dynaParamQs = rtrim($dynaParamQs, "\x26"); } else { $dynaParamQs .= $dynaParam . "\75\42\x20\53\x20\145\156\x63\157\144\x65\125\x52\x49\x43\157\155\x70\x6f\156\x65\156\164\x28\x72\157\167\x4f\142\152\x65\x63\x74\56" . $dynaParam . "\51\x20\x2b\40\42"; } } $sVal = "\x20\40\x20\40\40\40\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\40\40\40\40\x20\40\40\40\40\40\x20\12\x20\40\40\40\40\40\x20\x20\x76\x61\x72\x20\x70\x61\162\141\155\x73\x20\x3d\40\x22\77" . $dynaParamQs . $addParam . "\42\x3b\12\x20\40\40\40\40\x20\40\40\x76\x61\162\40\x75\x72\154\x20\x3d\x20\x27" . $baseLinkUrl . "\47\x20\x2b\x20\x70\141\x72\141\x6d\x73\x3b\12\x20\x20\x20\x20\40\40\40\40\12\x20\x20\40\40\40\40\40\x20\x72\x65\x74\165\162\156\40\x27\x3c\141\x20\150\162\x65\x66\75\x22\47\53\x75\162\x6c\53\47\x22\x20\164\141\x72\147\x65\164\75\42" . $target . "\42\x20\x76\x61\x6c\x75\x65\x3d\x22\x27\40\53\x20\x63\145\x6c\x6c\x56\x61\154\x75\145\x20\x2b\40\x27\42\x3e\47\53\x63\x65\154\x6c\x56\x61\x6c\165\145\x2b\47\74\x2f\x61\76\x27\x3b\12\40\40\40\40\x20\40\40\x20"; $sFormatter = sprintf($sFormatter, $sVal); $sUnformatter = sprintf($sUnformatter, "\166\x61\162\40\157\142\x6a\40\x3d\40\x6a\x51\x75\145\x72\171\x28\162\157\167\x4f\142\x6a\145\x63\x74\x29\56\x68\x74\155\x6c\x28\x29\x3b\40\x72\145\164\x75\162\x6e\x20\x6a\x51\x75\x65\162\171\x28\x6f\x62\x6a\x29\56\141\x74\x74\162\50\x22\x76\x61\x6c\x75\x65\x22\x29\x3b"); $this->col_custom .= $sFormatter . "\12" . $sUnformatter; $this->col_formats[$col_name]["\143\165\x73\164\x6f\155"] = $addParam; return $this; } public function set_dimension($w, $h = "\61\60\60\45", $shrinkToFit = true) { $this->jq_width = $w; $this->jq_height = $h; $this->jq_shrinkToFit = $shrinkToFit; return $this; } public function enable_resize($is_resizable, $min_w = 350, $min_h = 80) { $this->jqu_resize["\x69\x73\137\x72\145\x73\151\172\x61\142\x6c\145"] = $is_resizable; $this->jqu_resize["\155\151\x6e\137\x77\151\x64\164\150"] = $min_w; $this->jqu_resize["\155\x69\156\137\150\x65\151\x67\x68\164"] = $min_h; return $this; } public function set_masterdetail($obj_grid, $fkey) { $gdNo = count($this->obj_md) + 1; if ($obj_grid instanceof C_DataGrid) { $obj_grid->set_jq_gridName($this->jq_gridName . "\137\144" . $gdNo); $obj_grid->set_jq_pagerName(trim($this->jq_pagerName, "\x22") . "\x5f\x64" . $gdNo); $obj_grid->set_jq_url(ABS_PATH . "\57\x6d\x61\x73\x74\x65\x72\x64\145\164\141\x69\x6c\56\160\150\160\77\144\x74\x3d" . $this->jq_datatype . "\x26\x67\x6e\75" . $obj_grid->jq_gridName . "\46" . JQGRID_ROWID_KEY . "\75"); $obj_grid->set_jq_editurl(ABS_PATH . "\x2f" . $this->edit_file . "\77\144\164\x3d" . $this->jq_datatype . "\46\147\x6e\x3d" . $obj_grid->jq_gridName . "\x26\x73\162\143\75\155\x64"); $obj_grid->set_sql_fkey($fkey); $obj_grid->enable_search(false); $obj_grid->prepare_grid(); $this->obj_md[] = $obj_grid; } else { echo "\x49\156\x76\141\x6c\x69\x64\x20\155\141\x73\164\x65\162\x2f\x64\x65\164\x61\x69\154\x20\x6f\142\x6a\145\x63\x74\x2e"; } return $this; } public function set_subgrid($obj_grid, $d_fkey, $m_fkey = -1) { if ($obj_grid instanceof C_DataGrid) { $m_fkey = $m_fkey == -1 ? $d_fkey : $m_fkey; $this->jq_gridview = false; $obj_grid->set_jq_url(ABS_PATH . "\x2f\163\165\142\x67\162\x69\x64\56\160\x68\160\x3f\x64\x74\75" . $this->jq_datatype . "\46\147\156\x3d" . $this->jq_gridName . "\x26\x73\x67\x6e\75" . $obj_grid->get_jq_gridName() . "\x26\155\137\146\153\145\171\x3d" . $m_fkey . "\46" . JQGRID_ROWID_KEY . "\75"); $obj_grid->set_sql_fkey($d_fkey); $obj_grid->prepare_grid(); $this->obj_subgrid = $obj_grid; } else { echo "\111\156\x76\141\154\x69\144\x20\x73\x75\142\147\x72\151\x64\40\x6f\142\152\145\x63\x74\x2e"; } return $this; } public function set_jq_pagerName($pagerName, $add_quote = true) { $this->jq_pagerName = $add_quote ? "\x22" . $pagerName . "\x22" : $pagerName; return $this; } public function set_jq_gridName($gridName) { $this->jq_gridName = $gridName; $this->jq_pagerName = "\42\x23" . $gridName . "\x5f\160\x61\147\145\x72\x31\x22"; $this->jq_url = "\x22" . ABS_PATH . "\x2f\144\141\164\x61\x2e\160\150\x70\x3f\x64\x74\x3d" . $this->jq_datatype . "\x26\x67\156\75" . $gridName . "\42"; $this->export_url = ABS_PATH . "\57\145\x78\160\157\x72\164\56\160\150\x70\77\144\x74\75" . $this->jq_datatype . "\46\147\x6e\75" . $this->jq_gridName . ($this->export_type != '' ? "\x26\145\170\x70\x6f\162\164\137\164\x79\160\x65\x3d" . $this->export_type : ''); return $this; } public function get_jq_gridName() { return $this->jq_gridName; } public function set_sortname($sortname, $sortorder = "\x41\123\x43") { $this->jq_sortname = $sortname; $this->jq_sortorder = $sortorder; return $this; } public function enable_export($type = "\x45\x58\103\105\114") { $this->export_type = $type; return $this; } public function set_col_edittype($col_name, $ctrl_type, $keyvalue_pair = null, $multiple = false, $dataUrl = null) { if ($ctrl_type == "\x73\145\154\x65\143\x74" || $ctrl_type == "\x61\165\x74\157\x63\x6f\155\160\x6c\x65\x74\x65") { $select_list = ''; $regex = "\57\123\105\114\x45\x43\124\x20\x28\56\52\x3f\51\40\106\122\117\x4d\x20\x2f\x69"; $data = ''; $matches = array(); if (preg_match($regex, $keyvalue_pair, $matches)) { $select_kv = explode("\54", $matches[1]); $select_kv = array_map("\164\162\x69\x6d", $select_kv); $result = $this->db->select_limit_array($keyvalue_pair, -1, 0); foreach ($result as $i => $val) { $select_list .= $result[$i][0] . "\72" . $result[$i][1] . "\x3b"; } $select_list = rtrim($select_list, "\73"); $keyvalue_pair = $select_list; } } if ($ctrl_type == "\x63\x68\x65\143\x6b\x62\x6f\170") { $this->set_col_format($col_name, "\143\x68\x65\x63\153\142\x6f\170"); $this->set_col_align($col_name, "\143\145\x6e\x74\145\162"); } if ($ctrl_type == "\x61\x75\164\x6f\x63\x6f\155\160\154\145\x74\145") { $ctrl_type = "\x73\x65\x6c\x65\143\164"; $this->col_edittypes[$col_name]["\x74\171\160\145"] = "\x73\145\x6c\145\143\164"; $this->col_autocomplete[$col_name] = $col_name; self::$has_autocomplete = true; } if ($ctrl_type == "\163\x65\x6c\x65\143\164") { $this->col_edittypes[$col_name]["\155\x75\x6c\164\x69\x70\x6c\145"] = $multiple; $this->col_edittypes[$col_name]["\x64\x61\164\141\125\x72\x6c"] = $dataUrl; } $this->col_edittypes[$col_name]["\x74\171\160\145"] = $ctrl_type; $this->col_edittypes[$col_name]["\x76\x61\154\x75\145"] = $keyvalue_pair; return $this; } public function set_row_color($hover_color, $highlight_color = null, $altrow_color = null) { $this->alt_colors["\150\157\x76\145\x72"] = $hover_color; $this->alt_colors["\150\x69\147\150\x6c\x69\147\x68\164"] = $highlight_color; $this->alt_colors["\x61\x6c\x74\x72\x6f\x77"] = $altrow_color; return $this; } public function set_conditional_row_color($colName, $condition = array(), $default = '') { $this->jq_conditionalRows[] = array("\143\x6f\154" => $colName, "\x64\x65\146\x61\165\x6c\164" => $default, "\143\x6f\x6e\144\151\164\151\157\x6e" => $condition); return $this; } public function set_conditional_cell_color($colName, $condition = array(), $default = '') { $this->jq_conditionalRows[] = array("\x63\157\x6c" => $colName, "\144\145\x66\141\x75\154\164" => $default, "\143\x6f\156\144\151\x74\x69\x6f\x6e" => $condition); return $this; } public function set_theme($theme) { $this->theme_name = $theme; return $this; } public function set_locale($locale) { $this->locale = $locale; return $this; } public function enable_debug($debug) { return $this; } public function set_caption($caption) { if ($caption == '') { $caption = "\46\156\142\163\x70\x3b"; } $this->jq_caption = $caption; return $this; } public function set_pagesize($pagesize) { $this->jq_rowNum = $pagesize; return $this; } public function enable_rownumbers($has_rownumbers) { $this->jq_rownumbers = $has_rownumbers; return $this; } public function set_col_width($col_name, $width) { $this->col_widths[$col_name]["\x77\x69\144\x74\150"] = $width; return $this; } public function get_col_width() { return $this->col_widths; } public function set_col_align($col_name, $align = "\x6c\145\146\x74") { $this->col_aligns[$col_name]["\141\x6c\151\147\x6e"] = $align; return $this; } public function get_col_align() { return $this->col_aligns; } public function set_group_properties($feildname, $groupCollapsed = false, $showSummaryOnHide = true) { $this->jq_grouping = true; $this->jq_group_summary_show = $groupColumnShow; $this->jq_group_name = $feildname; $this->jq_groupcollapse = $groupCollapsed; $this->jq_showSummaryOnHide = $showSummaryOnHide; return $this; } public function set_group_summary($col_name, $summaryType) { $this->jq_is_group_summary = true; $this->jq_summary_col_name[$col_name]["\x73\x75\155\x6d\x61\162\x79\x54\171\x70\145"] = $summaryType; return $this; } public function enable_kb_nav($is_enabled = false) { $this->kb_nav = $is_enabled; return $this; } public function setCallbackString($string) { $this->callbackstring = "\46\137\137\143\x62\x73\x74\162\x3d" . strtr(rtrim(base64_encode($string), "\x3d"), "\53\57", "\x2d\x5f"); $this->jq_url = substr($this->jq_url, 0, -1) . $this->callbackstring . "\42"; $this->export_url .= $this->callbackstring; return $this; } public function enable_autowidth($autowidth = false) { $this->jq_autowidth = $autowidth; if ($autowidth) { $this->script_ude_handler .= "\x24\50\x77\151\156\144\157\167\x29\56\142\x69\156\x64\50\x22\x72\145\163\151\172\x65\x22\54\40\146\x75\156\143\164\151\x6f\x6e\x28\51\40\173\12\40\40\40\x20\x20\x20\40\x20\40\40\40\x20\40\x20\x20\40\x20\40\40\x20\160\150\160\x47\x72\151\x64\137" . $this->sql_table . "\x2e\163\145\x74\x47\162\x69\x64\127\x69\x64\x74\150\50\44\50\x77\151\x6e\144\157\x77\51\x2e\167\x69\x64\x74\150\50\51\51\x3b\12\x20\40\x20\40\x20\x20\x20\x20\40\40\40\x20\40\40\x20\x20\175\x29\x2e\x74\162\x69\147\x67\145\x72\x28\42\x72\145\163\151\172\145\x22\x29\73" . "\xa"; } return $this; } public function enable_autoheight($autoheight = false) { if ($autoheight) { $this->script_ude_handler .= "\166\141\x72\40\x67\x72\151\x64\137\x68\145\151\147\150\x74\x20\x3d\x20\x24\x28\x77\151\156\144\x6f\167\x29\x2e\x68\x65\151\147\x68\x74\50\51\x20\x2d\12\40\x20\x20\x20\40\x20\x20\40\x20\40\x20\x20\40\40\40\x20\x20\40\x20\x20\x24\x28\42\x2e\165\151\55\152\161\x67\x72\151\x64\40\x2e\165\151\x2d\x6a\161\147\x72\151\144\x2d\164\x69\164\154\145\x62\x61\x72\x22\x29\56\150\x65\151\x67\x68\x74\x28\x29\x20\x2d\xa\40\40\40\40\x20\40\x20\x20\x20\x20\40\40\x20\x20\40\40\40\40\x20\x20\44\50\42\x2e\x75\151\x2d\x6a\161\x67\162\x69\x64\x20\56\165\151\x2d\152\161\x67\162\151\x64\x2d\150\x62\x6f\x78\42\x29\56\x68\145\x69\x67\150\164\50\x29\40\55\xa\40\x20\40\40\x20\x20\x20\x20\40\40\x20\40\x20\40\40\40\x20\40\40\40\44\50\160\x68\x70\x47\162\151\144\137" . $this->sql_table . "\56\147\145\x74\107\x72\x69\x64\x50\141\162\141\x6d\x28\42\160\141\147\145\162\x22\x29\x29\56\150\145\151\x67\x68\164\x28\x29\40\x2d\x20\61\60\73\xa\x20\40\40\x20\x20\40\40\x20\40\x20\x20\40\x20\x20\x20\x20\x24\50\x77\151\156\x64\157\x77\51\x2e\142\x69\x6e\144\x28\42\x72\145\163\151\x7a\x65\x22\54\x20\146\165\x6e\143\164\151\157\156\50\51\x20\x7b\12\x20\40\40\x20\x20\x20\40\40\x20\40\40\x20\40\x20\40\x20\x20\40\40\x20\x70\150\160\107\162\151\x64\x5f" . $this->sql_table . "\56\x6a\161\107\162\151\144\x28\x22\163\x65\x74\107\x72\151\144\110\145\x69\x67\150\164\x22\54\x20\x67\162\151\x64\137\150\x65\151\x67\x68\x74\x20\51\x3b\xa\x20\40\x20\x20\40\40\x20\40\x20\x20\x20\40\x20\x20\40\x20\x7d\x29\x2e\x74\x72\x69\x67\147\145\162\x28\42\162\145\x73\151\x7a\145\42\51\73" . "\xa"; } return $this; } public function get_display($add_script_includeonce = true) { if ($add_script_includeonce) { return $this->script_includeonce . $this->script_body; } else { return $this->script_body; } } public function set_form_dimension($f_width, $f_height = "\x31\x30\x30\x25") { $this->form_width = $f_width; $this->form_height = $f_height; return $this; } public function set_col_default($col_name, $default = '') { $this->col_default[$col_name] = $default; return $this; } public function set_col_frozen($col_name, $value = true) { $this->col_frozen[$col_name] = $value; return $this; } public function add_event($event_name, $js_event_handler) { $this->script_ude_handler .= "\x70\150\160\x47\x72\x69\144\x5f" . $this->sql_table . "\x2e\x62\151\x6e\144\x28\x22" . $event_name . "\42\x2c\x20" . $js_event_handler . "\x29\x3b" . "\xa"; return $this; } private function parse_to_script($obj) { if (is_array($obj)) { $arr = array(); foreach ($obj as $key => $value) { if (is_string($value)) { $script = preg_replace("\x2f\x5b\134\x78\x30\x30\x2d\134\x78\x31\x46\x5c\170\70\x30\x2d\134\170\106\x46\135\x2f", '', $value); if (preg_match("\x2f\146\x75\156\143\x74\x69\157\x6e\x5c\x28\133\x5e\51\x5d\56\52\x5c\x29\57\151", $script)) { $script = "\43\43\x23" . $script . "\x23\43\43"; } $arr[$key] = $script; } else { $arr[$key] = $value; } } return $arr; } elseif (is_string($obj)) { $script = preg_replace("\x2f\133\x5c\x78\60\60\x2d\134\x78\61\106\134\x78\x38\60\x2d\x5c\170\106\x46\x5d\x2f", '', $obj); if (preg_match("\x2f\146\x75\x6e\x63\x74\151\x6f\x6e\134\x28\133\x5e\51\135\56\x2a\x5c\x29\57\151", $script)) { $script = "\x23\43\43" . $script . "\x23\43\x23"; } return $script; } } public function set_col_property($col_name, $property = array()) { $cust_property = array(); foreach ($property as $prop_key => $prop_value) { if (is_string($prop_value) || is_array($prop_value)) { $prop_value = $this->parse_to_script($prop_value); } $cust_property[$prop_key] = $prop_value; } $this->cust_col_properties[$col_name] = $cust_property; return $this; } public function set_grid_property($property = array()) { $this->cust_grid_properties = array_replace_recursive($property, $this->cust_grid_properties); return $this; } public function set_col_edit_dimension($col_name, $width = 30, $height = 6) { $this->col_edit_dimension[$col_name]["\167\151\144\x74\x68"] = $width; $this->col_edit_dimension[$col_name]["\150\x65\151\x67\x68\x74"] = $height; return $this; } private function MapPath($file) { if (function_exists("\x61\160\141\x63\150\145\x5f\x6c\x6f\x6f\153\165\160\137\x75\162\151")) { $alu = apache_lookup_uri($file); return $alu->filename; } return $this->col_fileupload["\160\150\171\x73\151\143\x61\x6c\137\160\141\164\150"]; } public function add_column($col_name, $property = array(), $title = '', $after = '') { $this->col_virtual[$col_name]["\x70\x72\157\x70\145\x72\164\x79"] = $property; $this->col_virtual[$col_name]["\164\x69\164\x6c\x65"] = $title == '' ? $col_name : $title; $this->col_virtual[$col_name]["\x61\x66\x74\x65\162"] = $after; return $this; } public function set_col_customrule($col_name, $customrule_func) { $this->col_customrule[$col_name]["\x63\165\x73\x74\x6f\x6d"] = true; $this->col_customrule[$col_name]["\143\x75\163\164\x6f\x6d\x5f\x66\165\156\143"] = $customrule_func; return $this; } private function display_before_script_end() { echo $this->before_script_end; } public function set_selectnetsted($col_sel_parent, $col_sel_child) { $this->set_col_property($col_sel_parent, array("\145\x64\x69\164\x6f\x70\x74\x69\157\156\163" => array("\144\141\164\141\x55\162\154" => "\144\x61\x74\141\x2e\x70\150\160", "\x62\165\151\x6c\x64\123\145\x6c\145\143\164" => "\146\165\156\143\164\151\x6f\x6e\x28\144\x61\x74\x61\51\173\xa\40\x20\x20\x20\x20\x20\x20\40\x20\40\x20\x20\40\40\x20\x20\40\x20\x20\40\40\40\x20\x20\40\40\x20\x20\x20\40\x20\x20\40\x20\40\x20\x76\x61\162\40\x72\145\x73\160\x6f\156\163\x65\x20\75\x20\152\x51\x75\x65\x72\x79\x2e\x70\141\x72\x73\x65\112\x53\x4f\116\50\144\x61\x74\141\x29\73\xa\x20\40\x20\40\40\40\x20\40\x20\40\x20\x20\40\x20\x20\x20\40\x20\40\40\x20\40\40\40\40\40\40\40\x20\40\40\x20\x20\x20\x20\40\166\x61\x72\x20\x73\40\x3d\40\x22\x3c\163\x65\154\x65\143\164\76\42\x3b\xa\40\40\40\40\x20\40\x20\x20\x20\x20\x20\40\x20\x20\x20\x20\40\40\x20\x20\x20\40\x20\40\x20\x20\40\40\x20\40\40\x20\x20\40\x20\x20\151\146\40\50\x72\x65\163\x70\x6f\x6e\x73\x65\x20\46\x26\40\x72\x65\163\160\x6f\x6e\163\x65\56\x6c\x65\x6e\147\164\x68\x29\x20\173\xa\x20\40\40\40\40\40\x20\x20\40\x20\40\40\40\40\x20\40\x20\40\x20\x20\40\x20\40\40\x20\40\40\x20\40\40\40\x20\x20\40\x20\x20\40\x20\40\x20\146\x6f\x72\40\x28\x76\141\162\40\151\x20\x3d\40\x30\x2c\40\x6c\x20\x3d\x20\162\x65\x73\160\x6f\156\163\145\x2e\154\x65\x6e\147\164\x68\73\40\151\40\74\x20\154\x3b\40\151\53\53\51\x20\173\12\x20\40\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\x20\40\40\40\x20\x20\40\x20\40\40\40\40\x20\x20\40\40\40\x20\40\x20\40\40\40\x20\x20\40\40\40\x20\40\40\166\x61\x72\x20\x72\x69\x20\75\x20\x72\x65\x73\x70\x6f\156\163\145\133\x69\x5d\73\xa\40\x20\40\x20\40\40\x20\40\x20\40\40\x20\x20\x20\40\40\40\40\x20\40\40\x20\x20\40\40\x20\x20\x20\x20\x20\x20\40\40\x20\40\40\x20\x20\x20\x20\40\40\x20\x20\x73\40\53\x3d\x20\42\x3c\x6f\160\x74\151\x6f\x6e\40\166\x61\154\165\145\75\x5c\42\x22\40\53\x20\162\x69\56\x56\x61\154\x75\x65\x20\x2b\40\42\x5c\42\x3e\42\40\x2b\40\162\x69\56\x54\x65\170\x74\40\x2b\x20\x22\74\57\x6f\x70\x74\151\157\x6e\76\x22\73\12\40\x20\40\x20\x20\40\40\40\40\40\40\40\x20\x20\40\x20\x20\x20\40\x20\40\40\40\40\40\40\x20\x20\40\40\x20\40\x20\x20\40\x20\40\x20\40\x20\175\12\x20\40\40\40\x20\x20\x20\x20\x20\40\x20\40\40\40\40\40\40\x20\40\40\40\40\x20\40\x20\40\40\x20\40\x20\x20\x20\x20\x20\x20\x20\x7d\xa\40\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\x20\40\40\40\40\40\40\x20\40\x20\40\x20\x20\40\x20\x20\40\x20\x20\40\40\40\x20\162\x65\x74\165\x72\x6e\x20\x73\x20\53\x20\42\74\57\x73\x65\x6c\x65\x63\164\x3e\42\73\xa\40\40\x20\40\40\40\x20\40\x20\x20\40\40\x20\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\x20\40\x20\40\40\175", "\144\x61\x74\x61\x45\x76\145\x6e\164\163" => array("\x74\171\x70\x65" => "\x63\150\x61\156\x67\x65", "\146\156" => "\146\x75\x6e\143\x74\x69\x6f\156\x20\x28\145\51\40\x7b\12\x20\40\40\x20\40\x20\x20\40\40\x20\40\40\40\40\40\x20\40\x20\x20\40\x20\40\40\40\166\141\162\40\166\x61\x72\x49\x44\125\x6e\151\x64\x61\x64\x4d\145\x64\151\144\x61\x20\75\40\x65\56\143\x75\x72\162\x65\156\164\124\x61\162\147\x65\x74\x2e\x76\141\x6c\165\145\x3b\xa\40\40\40\x20\40\x20\x20\40\x20\x20\x20\x20\40\x20\x20\40\40\40\x20\40\40\x20\40\x20\44\x2e\x61\x6a\x61\x78\50\x7b\12\x20\40\x20\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\40\40\x20\40\40\x20\40\x20\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\40\165\162\154\x3a\x20\42\x64\x61\164\x61\42\x2c\xa\x20\x20\x20\40\x20\x20\x20\40\40\40\40\x20\40\x20\40\40\40\40\40\x20\x20\40\x20\40\x20\x20\x20\40\x20\x20\x20\40\164\x79\160\x65\72\40\42\107\x45\124\42\54\12\x20\40\x20\x20\x20\x20\40\40\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\40\x20\40\40\40\x20\x20\40\x20\x20\40\40\163\x75\143\x63\145\x73\163\x3a\x20\146\x75\x6e\143\164\x69\x6f\156\40\x28\x50\x6c\141\x7a\157\x73\112\163\157\x6e\51\40\173\xa\x20\40\x20\40\40\x20\40\x20\x20\40\40\x20\x20\40\40\40\40\x20\40\x20\x20\40\40\x20\x20\x20\40\x20\40\40\40\40\x76\141\x72\x20\x70\x6c\141\172\157\x73\x20\75\x20\x65\x76\x61\154\50\x50\x6c\141\x7a\157\x73\112\x73\x6f\x6e\51\73\xa\40\x20\40\40\x20\x20\40\40\x20\40\40\x20\x20\x20\x20\x20\x20\40\40\40\x20\40\x20\40\x20\40\x20\40\40\40\40\x20\166\141\162\x20\x70\x6c\x61\172\157\x73\x48\164\x6d\x6c\40\x3d\40\42\x22\x3b\12\x20\40\40\x20\x20\40\x20\40\40\x20\x20\40\40\x20\x20\40\40\x20\40\40\40\x20\40\x20\40\40\40\40\x20\40\x20\40\44\50\x70\x6c\x61\172\157\x73\x29\56\x65\x61\x63\150\50\x66\x75\156\x63\164\x69\x6f\156\40\x28\151\54\40\x6f\x70\x74\151\x6f\x6e\x29\40\x7b\12\40\40\40\x20\40\40\x20\x20\40\40\40\x20\40\x20\x20\40\40\x20\40\x20\40\40\40\x20\x20\x20\x20\40\x20\40\40\40\x20\40\x20\x20\160\154\x61\x7a\x6f\163\110\164\155\154\40\53\75\x20\x22\74\x6f\x70\164\151\x6f\x6e\x20\166\141\154\165\x65\x3d\134\42\42\x20\53\40\157\x70\x74\151\x6f\x6e\56\126\141\154\x75\145\40\x2b\x20\x22\x5c\42\76\x22\x20\x2b\x20\x6f\160\x74\151\x6f\156\x2e\x54\145\x78\164\x20\53\x20\x22\74\57\x6f\160\x74\x69\x6f\x6e\76\x22\x3b\xa\40\x20\x20\x20\40\x20\40\x20\x20\x20\40\40\40\x20\40\40\x20\40\x20\x20\x20\40\40\40\x20\x20\40\x20\x20\x20\40\40\x7d\51\x3b\12\xa\40\40\x20\40\x20\x20\40\40\40\40\x20\x20\40\40\x20\x20\40\40\x20\40\40\40\x20\x20\x20\x20\40\40\40\x20\x20\x20\151\146\40\50\44\x28\x65\x2e\164\141\x72\x67\x65\164\51\56\x69\x73\x28\42\56\x46\x6f\162\155\x45\x6c\145\155\145\x6e\x74\42\x29\x29\40\x7b\12\x20\40\x20\x20\x20\x20\40\40\x20\40\x20\40\40\40\40\40\x20\x20\x20\40\40\40\40\40\x20\40\40\40\40\40\x20\40\x20\40\40\x20\x76\141\x72\40\x66\157\x72\155\x20\x3d\x20\44\50\x65\56\164\x61\x72\x67\145\164\51\x2e\x63\x6c\157\x73\145\163\164\x28\x22\146\157\x72\155\56\x46\157\162\155\x47\x72\151\144\x22\x29\x3b\12\40\40\40\40\x20\40\40\x20\40\x20\x20\x20\40\x20\x20\40\40\x20\x20\x20\40\40\40\40\x20\x20\40\40\x20\x20\40\40\x20\x20\40\x20\x24\x28\42\163\145\x6c\x65\x63\x74\43\160\141\x72\120\x6c\x61\x7a\157\x2e\x46\157\x72\x6d\x45\x6c\145\155\x65\156\164\x22\x2c\x20\x66\157\162\x6d\133\60\135\x29\56\150\x74\x6d\x6c\50\160\x6c\x61\x7a\157\163\x48\164\x6d\x6c\51\x3b\12\40\x20\40\40\40\x20\40\x20\40\40\40\x20\40\x20\40\40\40\40\40\x20\40\40\x20\40\40\40\x20\40\x20\x20\x20\x20\x7d\x20\x65\x6c\163\x65\x20\x7b\xa\40\40\x20\40\x20\x20\40\40\40\40\x20\40\40\40\x20\x20\40\x20\x20\x20\x20\40\x20\40\x20\x20\40\x20\x20\40\40\40\40\40\x20\40\x76\141\162\x20\162\157\167\40\75\x20\44\x28\145\56\x74\x61\162\147\145\164\51\56\143\x6c\x6f\x73\145\x73\164\x28\42\164\162\x2e\x6a\x71\147\x72\x6f\x77\x22\x29\73\xa\x20\40\x20\40\x20\40\40\40\40\x20\40\40\x20\x20\x20\x20\x20\40\40\40\40\x20\40\40\x20\40\x20\40\x20\x20\40\x20\40\40\x20\40\166\x61\x72\40\162\x6f\167\111\144\40\x3d\x20\162\157\167\x2e\x61\164\164\162\50\x22\151\x64\42\51\x3b\12\x20\x20\40\40\40\40\40\x20\40\40\40\40\40\x20\40\40\40\x20\x20\x20\x20\x20\40\40\40\40\x20\40\x20\40\40\40\40\40\40\40\x76\141\x72\x20\x72\157\167\111\144\40\75\40\152\121\165\145\x72\x79\50\42\43\147\162\x69\144\x22\51\x2e\x6a\161\107\x72\151\144\x28\42\x67\145\x74\107\x72\x69\144\120\x61\162\141\x6d\x22\x2c\40\42\x73\145\154\162\157\x77\x22\51\73\xa\40\x20\40\40\40\x20\40\x20\x20\40\40\40\40\40\40\x20\40\x20\40\40\40\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\40\x20\x20\40\x20\152\121\165\145\162\x79\x28\42\163\x65\154\145\x63\164\43\42\40\53\40\x72\157\x77\x49\144\x20\53\x20\x22\137\160\x61\x72\x50\x6c\141\172\x6f\x22\x29\56\x61\x70\x70\x65\x6e\144\50\x70\154\141\x7a\157\x73\110\x74\155\154\51\x3b\xa\x20\40\x20\40\40\x20\x20\x20\x20\x20\x20\40\x20\x20\x20\40\40\40\40\x20\x20\40\40\x20\x20\x20\40\40\x20\40\x20\40\x7d\12\x20\40\40\40\x20\40\40\40\40\40\x20\40\x20\x20\40\40\x20\40\40\40\40\40\40\x20\x20\x20\x20\40\175\12\40\40\x20\40\x20\x20\40\x20\40\x20\x20\x20\40\40\40\x20\40\x20\x20\40\40\40\x20\40\175\51\x3b\xa\x20\x20\x20\x20\40\x20\40\40\x20\40\x20\x20\40\x20\40\40\40\x20\40\x20\x7d")))); $this->set_col_property($col_sel_child, array("\x65\144\151\x74\x6f\160\x74\x69\157\156\163" => array("\144\141\x74\141\x55\162\154" => "\x64\141\x74\141\56\x70\x68\x70", "\142\165\x69\x6c\x64\123\145\154\x65\143\164" => "\146\x75\156\x63\164\151\x6f\x6e\x28\x64\141\164\141\x29\x7b\12\40\x20\40\40\40\40\x20\x20\x20\x20\40\x20\x20\x20\x20\40\40\40\x20\40\x20\x20\x20\x20\40\40\x20\x20\x20\x20\x20\x20\40\x20\x20\40\x76\x61\162\x20\162\145\x73\x70\157\156\x73\145\40\x3d\x20\x6a\x51\165\x65\162\x79\56\160\x61\162\x73\145\x4a\123\x4f\x4e\50\144\x61\x74\x61\51\x3b\12\40\x20\x20\x20\x20\40\x20\x20\40\40\x20\40\x20\x20\40\40\40\40\40\40\40\40\x20\40\40\40\40\40\40\40\40\40\x20\40\x20\40\166\x61\162\x20\163\40\x3d\x20\x22\x3c\163\x65\x6c\145\x63\x74\76\x22\x3b\12\x20\40\x20\x20\40\x20\40\x20\x20\40\40\x20\x20\40\40\40\40\x20\40\x20\x20\x20\40\x20\40\x20\x20\x20\x20\40\x20\40\x20\x20\x20\x20\x69\x66\x20\50\x72\x65\163\x70\x6f\x6e\163\145\40\46\46\x20\162\145\x73\160\x6f\x6e\163\x65\x2e\154\145\x6e\147\164\150\51\x20\x7b\12\x20\x20\x20\x20\40\40\x20\40\40\x20\40\x20\x20\40\x20\x20\x20\40\40\x20\x20\x20\x20\x20\40\40\40\x20\x20\40\x20\40\40\40\40\x20\40\40\40\40\x66\157\162\40\50\x76\141\162\x20\x69\x20\x3d\x20\60\54\40\154\40\75\40\162\145\163\x70\157\x6e\x73\x65\x2e\154\x65\156\147\164\150\x3b\40\x69\40\74\40\x6c\73\40\151\x2b\53\51\40\x7b\12\40\40\40\40\x20\40\40\x20\x20\40\40\40\40\x20\x20\40\40\x20\x20\40\40\40\40\40\x20\x20\40\40\40\40\x20\40\x20\x20\x20\x20\x20\40\40\x20\x20\x20\x20\40\166\141\162\40\x72\x69\x20\75\x20\162\145\163\x70\x6f\x6e\163\x65\133\x69\x5d\x3b\12\x20\x20\40\x20\x20\x20\40\40\40\x20\40\x20\x20\40\x20\40\x20\x20\40\x20\x20\40\40\40\40\x20\x20\x20\40\x20\40\40\40\x20\40\40\40\40\40\40\40\40\x20\x20\x73\40\53\75\40\x22\x3c\157\160\x74\151\157\x6e\x20\x76\x61\x6c\165\x65\75\x5c\x22\42\40\53\40\x72\x69\56\x56\141\154\165\145\40\x2b\40\x22\x5c\42\x3e\42\x20\53\40\x72\151\x2e\x54\145\x78\x74\40\53\x20\x22\x3c\x2f\x6f\x70\164\151\x6f\156\x3e\42\x3b\12\40\40\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x20\40\x20\x20\40\x20\x20\40\40\40\40\40\x20\x20\x20\x20\x20\40\40\x20\x20\40\x20\x20\40\x20\x20\175\12\40\40\x20\x20\x20\40\x20\40\x20\40\40\x20\x20\40\40\40\x20\40\x20\x20\x20\40\x20\x20\x20\x20\x20\40\x20\40\40\x20\x20\x20\x20\40\175\xa\x20\40\40\40\40\40\40\x20\x20\40\40\40\x20\x20\x20\40\x20\x20\x20\x20\x20\x20\x20\40\40\40\x20\x20\40\40\40\40\x20\40\40\40\x72\145\164\165\162\156\40\x73\x20\53\40\42\x3c\57\163\x65\x6c\x65\143\164\x3e\x22\73\12\40\40\x20\x20\40\40\40\x20\x20\x20\x20\x20\40\x20\x20\x20\40\40\40\40\x20\x20\x20\x20\x20\40\x20\40\x20\x20\40\x20\x7d"))); } }