<?php
 namespace phpCtrl; class C_Utility { public static function add_slashes($str) { if (get_magic_quotes_gpc() == 1) { return $str; } else { return addslashes($str); } } public static function indent_json($json) { $result = ''; $pos = 0; $strLen = strlen($json); $indentStr = "\x20\x20"; $newLine = "\12"; for ($i = 0; $i <= $strLen; $i++) { $char = substr($json, $i, 1); if ($char == "\x7d" || $char == "\135") { $result .= $newLine; $pos--; for ($j = 0; $j < $pos; $j++) { $result .= $indentStr; } } $result .= $char; if ($char == "\173" || $char == "\x5b") { $result .= $newLine; if ($char == "\x7b" || $char == "\x5b") { $pos++; } for ($j = 0; $j < $pos; $j++) { $result .= $indentStr; } } } return $result; } public static function literalBool($boolValue) { return $boolValue ? "\164\x72\x75\145" : "\x66\x61\154\x73\145"; } public static function gen_rowids($arr = array(), $keys = array()) { $rowids = ''; foreach ($keys as $key => $val) { $rowids .= $arr[$val] . PK_DELIMITER; } $rowids = substr($rowids, 0, -3); return $rowids; } public static function is_debug() { return defined("\x44\105\x42\x55\x47") ? DEBUG : false; } } ?>