<?php
 goto PKEH8; S1_Gu: $fk = $s_sql_fkey; goto CGIpa; s07ur: $s_db_connection = unserialize($_SESSION[GRID_SESSION_KEY . "\137" . $s_gridName . "\x5f\x64\x62\x5f\x63\x6f\x6e\x6e\145\143\x74\x69\x6f\x6e"]); goto grI8z; RZLKT: $s_sql_key = unserialize($_SESSION[GRID_SESSION_KEY . "\137" . $s_gridName . "\137\x73\x71\x6c\x5f\x6b\x65\171"]); goto QNGVp; n02KU: $data_type = isset($_GET["\x64\x74"]) ? $_GET["\x64\164"] : "\x6a\x73\x6f\156"; goto gyEjv; TGuwg: $limit = isset($_GET["\x72\157\x77\x73"]) ? $_GET["\162\x6f\167\x73"] : 20; goto byNL5; T29D0: $sqlWhere = "\40\127\x48\x45\122\x45\40\50" . implode("\54", $sql_key) . "\x29\40\111\x4e\40\x28" . implode("\54", $pk_val_new) . "\51\x20"; goto y9KUI; Edpr3: $s_grid_sql = $_SESSION[GRID_SESSION_KEY . "\x5f" . $s_gridName . "\137\163\x71\154"]; goto RZLKT; oEerj: $sidx = isset($_GET["\163\151\x64\x78"]) ? $_GET["\163\x69\x64\x78"] : ''; goto wN2b_; CGIpa: $pk = $sql_key; goto Q46Jj; Kk17C: if ($start < 0) { $start = 0; } goto QzV5o; QNGVp: $s_sql_fkey = $_SESSION[GRID_SESSION_KEY . "\137" . $s_gridName . "\137\x73\x71\154\x5f\146\153\145\171"]; goto p1lbJ; SuPee: switch ($data_type) { case "\170\x6d\154": $data = "\x3c\77\170\155\154\x20\166\145\162\163\151\x6f\156\x3d\47\x31\56\x30\x27\40\145\x6e\x63\157\x64\x69\x6e\x67\75\x27\x75\164\146\x2d\70\47\x3f\76"; $data .= "\74\x72\x6f\x77\163\76"; $data .= "\74\x70\x61\x67\x65\x3e" . $page . "\74\57\x70\141\x67\x65\76"; $data .= "\x3c\164\x6f\164\141\154\76" . $total_pages . "\x3c\x2f\164\x6f\164\x61\154\x3e"; $data .= "\74\162\145\x63\157\162\144\x73\76" . $count . "\74\57\162\x65\x63\x6f\162\144\163\76"; $i = 0; while ($row = $db->fetch_array_assoc($result)) { $data .= "\74\x72\157\x77\40\151\144\x3d\x27" . C_Utility::gen_rowids($row, $s_sql_key) . "\47\76"; for ($i = 0; $i < $db->num_fields($rs); $i++) { $col_name = $db->field_name($result, $i); $data .= "\x3c\143\x65\x6c\x6c\76" . $row[$col_name] . "\x3c\57\143\x65\154\154\x3e"; } $data .= "\74\x2f\x72\x6f\167\76"; } $data .= "\74\57\x72\x6f\x77\x73\x3e"; header("\103\157\156\164\x65\156\164\55\x74\x79\160\145\x3a\x20\164\x65\170\x74\x2f\170\155\x6c\x3b\x63\x68\141\162\163\x65\164\75\165\164\146\55\70"); echo $data; break; case "\x6a\x73\x6f\x6e": $response = new stdClass(); $response->page = $page; $response->total = $total_pages; $response->records = $count; $i = 0; $data = array(); while ($row = $db->fetch_array_assoc($result)) { unset($data); $response->rows[$i][JQGRID_ROWID_KEY] = C_Utility::gen_rowids($row, $s_sql_key); for ($j = 0; $j < $db->num_fields($result); $j++) { $col_name = $db->field_name($result, $j); $data[] = $row[$col_name]; } $response->rows[$i]["\143\x65\154\154"] = $data; $i++; } echo json_encode($response); break; } goto KgiDY; gyEjv: $grid_sql = $_SESSION[GRID_SESSION_KEY . "\137" . $gridName . "\137\x73\x71\x6c"]; goto ZgXc3; grI8z: $cn = $db_connection; goto u215J; uLqdV: $m_fkey = isset($_GET["\155\x5f\x66\x6b\145\x79"]) ? urldecode($_GET["\x6d\x5f\x66\153\x65\171"]) : -1; goto alBBU; s2ZSI: $result = $db->query_then_fetch_array_first($sqlFkey); goto g8M5D; epoon: $start = $limit * $page - $limit; goto Kk17C; CsksD: $page = isset($_GET["\x70\x61\147\x65"]) ? $_GET["\x70\141\147\145"] : 1; goto TGuwg; MBuAW: $sqlOrderBy = !$sidx ? '' : "\40\x4f\x52\x44\105\x52\x20\102\x59\x20{$sidx}\x20{$sord}"; goto uTy37; u215J: if (empty($cn)) { $db = new C_DataBase(PHPGRID_DB_HOSTNAME, PHPGRID_DB_USERNAME, PHPGRID_DB_PASSWORD, PHPGRID_DB_NAME, PHPGRID_DB_TYPE, PHPGRID_DB_CHARSET); } else { $db = new C_DataBase($cn["\150\157\163\x74\156\141\x6d\x65"], $cn["\x75\x73\145\162\x6e\141\155\145"], $cn["\x70\141\163\x73\167\157\x72\144"], $cn["\x64\142\156\x61\155\145"], $cn["\x64\x62\x74\171\x70\145"], $cn["\144\142\x63\150\141\162\x73\x65\x74"]); } goto S1_Gu; VhoA2: $result = $db->select_limit($SQL, $limit, $start); goto SuPee; alBBU: $rs = $db->select_limit($grid_sql, 1, 1); goto LtAN1; y9KUI: $sqlFkey = "\123\105\114\x45\103\x54\x20" . $m_fkey . "\x20\106\122\x4f\115\40" . $sql_table . $sqlWhere; goto s2ZSI; bIxES: if ($page > $total_pages) { $page = $total_pages; } goto epoon; qAqPK: $s_gridName = isset($_GET["\163\147\x6e"]) ? $_GET["\163\147\156"] : die("\x50\x48\120\107\122\111\x44\x5f\105\122\x52\x4f\122\72\x20\x55\122\114\40\x70\x61\162\x61\155\x65\x74\145\x72\40\x22\x73\x67\x6e\x22\40\151\163\40\156\x6f\164\40\x64\x65\x66\151\x6e\x65\x64"); goto n02KU; byNL5: $sord = isset($_GET["\163\x6f\x72\x64"]) ? $_GET["\163\x6f\162\144"] : "\x61\x73\143"; goto oEerj; uTy37: if ($s_sql_filter != '') { $SQL = $s_grid_sql . $sqlWhere . "\x20\101\116\104\x20" . $s_sql_filter . $sqlOrderBy; } else { $SQL = $s_grid_sql . $sqlWhere . $sqlOrderBy; } goto uBZIU; LtAN1: $pk_val_new = $db->quote_fields($rs, $sql_key, $pk_val); goto T29D0; TOcaI: $s_sql_filter = $_SESSION[GRID_SESSION_KEY . "\x5f" . $s_gridName . "\137\163\161\x6c\137\146\151\x6c\164\x65\162"]; goto s07ur; QzV5o: $db->db->SetFetchMode(ADODB_FETCH_BOTH); goto VhoA2; cpI_T: if ($count > 0 && $limit > 0) { $total_pages = ceil($count / $limit); } else { $total_pages = 0; } goto bIxES; ZgXc3: $sql_key = unserialize($_SESSION[GRID_SESSION_KEY . "\137" . $gridName . "\x5f\163\161\154\137\x6b\x65\x79"]); goto HmIIh; m13V8: $sql_filter = $_SESSION[GRID_SESSION_KEY . "\137" . $gridName . "\137\163\x71\154\137\146\151\154\164\x65\162"]; goto Mr2ky; IlpR8: if (!session_id()) { session_start(); } goto YCNpP; Mr2ky: $db_connection = unserialize($_SESSION[GRID_SESSION_KEY . "\x5f" . $gridName . "\x5f\144\x62\137\143\157\156\156\145\143\164\x69\157\x6e"]); goto Edpr3; JFR3U: $count = $db->num_rows($rs); goto cpI_T; p1lbJ: $s_sql_table = $_SESSION[GRID_SESSION_KEY . "\x5f" . $s_gridName . "\137\x73\161\x6c\137\164\x61\x62\x6c\x65"]; goto TOcaI; wN2b_: $sqlWhere = "\40\127\x48\x45\x52\x45\40" . $db->quote_field($s_grid_sql, $fk, $fk_val); goto MBuAW; uBZIU: $rs = $db->db_query($SQL); goto JFR3U; YCNpP: $gridName = isset($_GET["\x67\156"]) ? $_GET["\x67\x6e"] : die("\x50\110\120\x47\122\111\x44\x5f\105\x52\122\117\122\x3a\x20\x55\122\x4c\40\160\141\162\x61\155\145\164\x65\162\40\x22\147\156\42\40\151\x73\40\x6e\157\x74\40\x64\x65\146\x69\156\x65\144"); goto qAqPK; Q46Jj: $pk_val = isset($_GET[JQGRID_ROWID_KEY]) ? explode("\54", urldecode($_GET[JQGRID_ROWID_KEY])) : null; goto uLqdV; g8M5D: $fk_val = !empty($result) ? $result[$m_fkey] : null; goto CsksD; A3kfi: $sql_table = $_SESSION[GRID_SESSION_KEY . "\x5f" . $gridName . "\x5f\x73\161\154\x5f\x74\141\x62\154\x65"]; goto m13V8; HmIIh: $sql_fkey = $_SESSION[GRID_SESSION_KEY . "\137" . $gridName . "\x5f\163\x71\x6c\137\x66\x6b\x65\x79"]; goto A3kfi; PKEH8: require_once "\160\150\x70\x47\x72\x69\144\56\x70\150\160"; goto IlpR8; KgiDY: $db = null;